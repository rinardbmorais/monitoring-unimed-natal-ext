/*! For license information please see module.js.LICENSE.txt */
/* [create-plugin] version: 5.13.0 */
define(["@emotion/css","@grafana/data","@grafana/runtime","@grafana/ui","d3","lodash","module","react"],((e,t,o,l,r,a,n,i)=>(()=>{var s={9524:(e,t,o)=>{const l=Symbol("SemVer ANY");class r{static get ANY(){return l}constructor(e,t){if(t=a(t),e instanceof r){if(e.loose===!!t.loose)return e;e=e.value}e=e.trim().split(/\s+/).join(" "),c("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===l?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(e){const t=this.options.loose?n[i.COMPARATORLOOSE]:n[i.COMPARATOR],o=e.match(t);if(!o)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==o[1]?o[1]:"","="===this.operator&&(this.operator=""),o[2]?this.semver=new u(o[2],this.options.loose):this.semver=l}toString(){return this.value}test(e){if(c("Comparator.test",e,this.options.loose),this.semver===l||e===l)return!0;if("string"==typeof e)try{e=new u(e,this.options)}catch(e){return!1}return s(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Comparator is required");return""===this.operator?""===this.value||new d(e.value,t).test(this.value):""===e.operator?""===e.value||new d(this.value,t).test(e.semver):(!(t=a(t)).includePrerelease||"<0.0.0-0"!==this.value&&"<0.0.0-0"!==e.value)&&(!(!t.includePrerelease&&(this.value.startsWith("<0.0.0")||e.value.startsWith("<0.0.0")))&&(!(!this.operator.startsWith(">")||!e.operator.startsWith(">"))||(!(!this.operator.startsWith("<")||!e.operator.startsWith("<"))||(!(this.semver.version!==e.semver.version||!this.operator.includes("=")||!e.operator.includes("="))||(!!(s(this.semver,"<",e.semver,t)&&this.operator.startsWith(">")&&e.operator.startsWith("<"))||!!(s(this.semver,">",e.semver,t)&&this.operator.startsWith("<")&&e.operator.startsWith(">")))))))}}e.exports=r;const a=o(7095),{safeRe:n,t:i}=o(6850),s=o(3811),c=o(9796),u=o(7944),d=o(8395)},8395:(e,t,o)=>{const l=/\s+/g;class r{constructor(e,t){if(t=n(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof i)return this.raw=e.value,this.set=[[e]],this.formatted=void 0,this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e.trim().replace(l," "),this.set=this.raw.split("||").map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!b(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&y(e[0])){this.set=[e];break}}this.formatted=void 0}get range(){if(void 0===this.formatted){this.formatted="";for(let e=0;e<this.set.length;e++){e>0&&(this.formatted+="||");const t=this.set[e];for(let e=0;e<t.length;e++)e>0&&(this.formatted+=" "),this.formatted+=t[e].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(e){const t=((this.options.includePrerelease&&g)|(this.options.loose&&f))+":"+e,o=a.get(t);if(o)return o;const l=this.options.loose,r=l?u[d.HYPHENRANGELOOSE]:u[d.HYPHENRANGE];e=e.replace(r,k(this.options.includePrerelease)),s("hyphen replace",e),e=e.replace(u[d.COMPARATORTRIM],p),s("comparator trim",e),e=e.replace(u[d.TILDETRIM],m),s("tilde trim",e),e=e.replace(u[d.CARETTRIM],h),s("caret trim",e);let n=e.split(" ").map((e=>E(e,this.options))).join(" ").split(/\s+/).map((e=>F(e,this.options)));l&&(n=n.filter((e=>(s("loose invalid filter",e,this.options),!!e.match(u[d.COMPARATORLOOSE]))))),s("range list",n);const c=new Map,y=n.map((e=>new i(e,this.options)));for(const e of y){if(b(e))return[e];c.set(e.value,e)}c.size>1&&c.has("")&&c.delete("");const v=[...c.values()];return a.set(t,v),v}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((o=>v(o,t)&&e.set.some((e=>v(e,t)&&o.every((o=>e.every((e=>o.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(A(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const a=new(o(1158)),n=o(7095),i=o(9524),s=o(9796),c=o(7944),{safeRe:u,t:d,comparatorTrimReplace:p,tildeTrimReplace:m,caretTrimReplace:h}=o(6850),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:f}=o(9630),b=e=>"<0.0.0-0"===e.value,y=e=>""===e.value,v=(e,t)=>{let o=!0;const l=e.slice();let r=l.pop();for(;o&&l.length;)o=l.every((e=>r.intersects(e,t))),r=l.pop();return o},E=(e,t)=>(s("comp",e,t),e=C(e,t),s("caret",e),e=T(e,t),s("tildes",e),e=O(e,t),s("xrange",e),e=R(e,t),s("stars",e),e),w=e=>!e||"x"===e.toLowerCase()||"*"===e,T=(e,t)=>e.trim().split(/\s+/).map((e=>S(e,t))).join(" "),S=(e,t)=>{const o=t.loose?u[d.TILDELOOSE]:u[d.TILDE];return e.replace(o,((t,o,l,r,a)=>{let n;return s("tilde",e,t,o,l,r,a),w(o)?n="":w(l)?n=`>=${o}.0.0 <${+o+1}.0.0-0`:w(r)?n=`>=${o}.${l}.0 <${o}.${+l+1}.0-0`:a?(s("replaceTilde pr",a),n=`>=${o}.${l}.${r}-${a} <${o}.${+l+1}.0-0`):n=`>=${o}.${l}.${r} <${o}.${+l+1}.0-0`,s("tilde return",n),n}))},C=(e,t)=>e.trim().split(/\s+/).map((e=>x(e,t))).join(" "),x=(e,t)=>{s("caret",e,t);const o=t.loose?u[d.CARETLOOSE]:u[d.CARET],l=t.includePrerelease?"-0":"";return e.replace(o,((t,o,r,a,n)=>{let i;return s("caret",e,t,o,r,a,n),w(o)?i="":w(r)?i=`>=${o}.0.0${l} <${+o+1}.0.0-0`:w(a)?i="0"===o?`>=${o}.${r}.0${l} <${o}.${+r+1}.0-0`:`>=${o}.${r}.0${l} <${+o+1}.0.0-0`:n?(s("replaceCaret pr",n),i="0"===o?"0"===r?`>=${o}.${r}.${a}-${n} <${o}.${r}.${+a+1}-0`:`>=${o}.${r}.${a}-${n} <${o}.${+r+1}.0-0`:`>=${o}.${r}.${a}-${n} <${+o+1}.0.0-0`):(s("no pr"),i="0"===o?"0"===r?`>=${o}.${r}.${a}${l} <${o}.${r}.${+a+1}-0`:`>=${o}.${r}.${a}${l} <${o}.${+r+1}.0-0`:`>=${o}.${r}.${a} <${+o+1}.0.0-0`),s("caret return",i),i}))},O=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map((e=>N(e,t))).join(" ")),N=(e,t)=>{e=e.trim();const o=t.loose?u[d.XRANGELOOSE]:u[d.XRANGE];return e.replace(o,((o,l,r,a,n,i)=>{s("xRange",e,o,l,r,a,n,i);const c=w(r),u=c||w(a),d=u||w(n),p=d;return"="===l&&p&&(l=""),i=t.includePrerelease?"-0":"",c?o=">"===l||"<"===l?"<0.0.0-0":"*":l&&p?(u&&(a=0),n=0,">"===l?(l=">=",u?(r=+r+1,a=0,n=0):(a=+a+1,n=0)):"<="===l&&(l="<",u?r=+r+1:a=+a+1),"<"===l&&(i="-0"),o=`${l+r}.${a}.${n}${i}`):u?o=`>=${r}.0.0${i} <${+r+1}.0.0-0`:d&&(o=`>=${r}.${a}.0${i} <${r}.${+a+1}.0-0`),s("xRange return",o),o}))},R=(e,t)=>(s("replaceStars",e,t),e.trim().replace(u[d.STAR],"")),F=(e,t)=>(s("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?d.GTE0PRE:d.GTE0],"")),k=e=>(t,o,l,r,a,n,i,s,c,u,d,p)=>`${o=w(l)?"":w(r)?`>=${l}.0.0${e?"-0":""}`:w(a)?`>=${l}.${r}.0${e?"-0":""}`:n?`>=${o}`:`>=${o}${e?"-0":""}`} ${s=w(c)?"":w(u)?`<${+c+1}.0.0-0`:w(d)?`<${c}.${+u+1}.0-0`:p?`<=${c}.${u}.${d}-${p}`:e?`<${c}.${u}.${+d+1}-0`:`<=${s}`}`.trim(),A=(e,t,o)=>{for(let o=0;o<e.length;o++)if(!e[o].test(t))return!1;if(t.prerelease.length&&!o.includePrerelease){for(let o=0;o<e.length;o++)if(s(e[o].semver),e[o].semver!==i.ANY&&e[o].semver.prerelease.length>0){const l=e[o].semver;if(l.major===t.major&&l.minor===t.minor&&l.patch===t.patch)return!0}return!1}return!0}},7944:(e,t,o)=>{const l=o(9796),{MAX_LENGTH:r,MAX_SAFE_INTEGER:a}=o(9630),{safeRe:n,t:i}=o(6850),s=o(7095),{compareIdentifiers:c}=o(4031);class u{constructor(e,t){if(t=s(t),e instanceof u){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid version. Must be a string. Got type "${typeof e}".`);if(e.length>r)throw new TypeError(`version is longer than ${r} characters`);l("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const o=e.trim().match(t.loose?n[i.LOOSE]:n[i.FULL]);if(!o)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+o[1],this.minor=+o[2],this.patch=+o[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");o[4]?this.prerelease=o[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a)return t}return e})):this.prerelease=[],this.build=o[5]?o[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(l("SemVer.compare",this.version,this.options,e),!(e instanceof u)){if("string"==typeof e&&e===this.version)return 0;e=new u(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof u||(e=new u(e,this.options)),c(this.major,e.major)||c(this.minor,e.minor)||c(this.patch,e.patch)}comparePre(e){if(e instanceof u||(e=new u(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const o=this.prerelease[t],r=e.prerelease[t];if(l("prerelease compare",t,o,r),void 0===o&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===o)return-1;if(o!==r)return c(o,r)}while(++t)}compareBuild(e){e instanceof u||(e=new u(e,this.options));let t=0;do{const o=this.build[t],r=e.build[t];if(l("build compare",t,o,r),void 0===o&&void 0===r)return 0;if(void 0===r)return 1;if(void 0===o)return-1;if(o!==r)return c(o,r)}while(++t)}inc(e,t,o){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t,o);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t,o);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t,o),this.inc("pre",t,o);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t,o),this.inc("pre",t,o);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":{const e=Number(o)?1:0;if(!t&&!1===o)throw new Error("invalid increment argument: identifier is empty");if(0===this.prerelease.length)this.prerelease=[e];else{let l=this.prerelease.length;for(;--l>=0;)"number"==typeof this.prerelease[l]&&(this.prerelease[l]++,l=-2);if(-1===l){if(t===this.prerelease.join(".")&&!1===o)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(e)}}if(t){let l=[t,e];!1===o&&(l=[t]),0===c(this.prerelease[0],t)?isNaN(this.prerelease[1])&&(this.prerelease=l):this.prerelease=l}break}default:throw new Error(`invalid increment argument: ${e}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}e.exports=u},7994:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e.trim().replace(/^[=v]+/,""),t);return o?o.version:null}},3811:(e,t,o)=>{const l=o(6909),r=o(7659),a=o(144),n=o(2077),i=o(599),s=o(7092);e.exports=(e,t,o,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e===o;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof o&&(o=o.version),e!==o;case"":case"=":case"==":return l(e,o,c);case"!=":return r(e,o,c);case">":return a(e,o,c);case">=":return n(e,o,c);case"<":return i(e,o,c);case"<=":return s(e,o,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},5334:(e,t,o)=>{const l=o(7944),r=o(5860),{safeRe:a,t:n}=o(6850);e.exports=(e,t)=>{if(e instanceof l)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let o=null;if((t=t||{}).rtl){const l=t.includePrerelease?a[n.COERCERTLFULL]:a[n.COERCERTL];let r;for(;(r=l.exec(e))&&(!o||o.index+o[0].length!==e.length);)o&&r.index+r[0].length===o.index+o[0].length||(o=r),l.lastIndex=r.index+r[1].length+r[2].length;l.lastIndex=-1}else o=e.match(t.includePrerelease?a[n.COERCEFULL]:a[n.COERCE]);if(null===o)return null;const i=o[2],s=o[3]||"0",c=o[4]||"0",u=t.includePrerelease&&o[5]?`-${o[5]}`:"",d=t.includePrerelease&&o[6]?`+${o[6]}`:"";return r(`${i}.${s}.${c}${u}${d}`,t)}},2801:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o)=>{const r=new l(e,o),a=new l(t,o);return r.compare(a)||r.compareBuild(a)}},7023:(e,t,o)=>{const l=o(5380);e.exports=(e,t)=>l(e,t,!0)},5380:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o)=>new l(e,o).compare(new l(t,o))},660:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e,null,!0),r=l(t,null,!0),a=o.compare(r);if(0===a)return null;const n=a>0,i=n?o:r,s=n?r:o,c=!!i.prerelease.length;if(!!s.prerelease.length&&!c)return s.patch||s.minor?i.patch?"patch":i.minor?"minor":"major":"major";const u=c?"pre":"";return o.major!==r.major?u+"major":o.minor!==r.minor?u+"minor":o.patch!==r.patch?u+"patch":"prerelease"}},6909:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>0===l(e,t,o)},144:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)>0},2077:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)>=0},5955:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o,r,a)=>{"string"==typeof o&&(a=r,r=o,o=void 0);try{return new l(e instanceof l?e.version:e,o).inc(t,r,a).version}catch(e){return null}}},599:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)<0},7092:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(e,t,o)<=0},2966:(e,t,o)=>{const l=o(7944);e.exports=(e,t)=>new l(e,t).major},5986:(e,t,o)=>{const l=o(7944);e.exports=(e,t)=>new l(e,t).minor},7659:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>0!==l(e,t,o)},5860:(e,t,o)=>{const l=o(7944);e.exports=(e,t,o=!1)=>{if(e instanceof l)return e;try{return new l(e,t)}catch(e){if(!o)return null;throw e}}},1617:(e,t,o)=>{const l=o(7944);e.exports=(e,t)=>new l(e,t).patch},9613:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e,t);return o&&o.prerelease.length?o.prerelease:null}},2862:(e,t,o)=>{const l=o(5380);e.exports=(e,t,o)=>l(t,e,o)},6033:(e,t,o)=>{const l=o(2801);e.exports=(e,t)=>e.sort(((e,o)=>l(o,e,t)))},1722:(e,t,o)=>{const l=o(8395);e.exports=(e,t,o)=>{try{t=new l(t,o)}catch(e){return!1}return t.test(e)}},603:(e,t,o)=>{const l=o(2801);e.exports=(e,t)=>e.sort(((e,o)=>l(e,o,t)))},7645:(e,t,o)=>{const l=o(5860);e.exports=(e,t)=>{const o=l(e,t);return o?o.version:null}},8449:(e,t,o)=>{const l=o(6850),r=o(9630),a=o(7944),n=o(4031),i=o(5860),s=o(7645),c=o(7994),u=o(5955),d=o(660),p=o(2966),m=o(5986),h=o(1617),g=o(9613),f=o(5380),b=o(2862),y=o(7023),v=o(2801),E=o(603),w=o(6033),T=o(144),S=o(599),C=o(6909),x=o(7659),O=o(2077),N=o(7092),R=o(3811),F=o(5334),k=o(9524),A=o(8395),D=o(1722),I=o(651),L=o(7840),$=o(7930),P=o(3489),_=o(7494),M=o(5463),z=o(7871),V=o(4266),j=o(1112),U=o(1465),B=o(9252);e.exports={parse:i,valid:s,clean:c,inc:u,diff:d,major:p,minor:m,patch:h,prerelease:g,compare:f,rcompare:b,compareLoose:y,compareBuild:v,sort:E,rsort:w,gt:T,lt:S,eq:C,neq:x,gte:O,lte:N,cmp:R,coerce:F,Comparator:k,Range:A,satisfies:D,toComparators:I,maxSatisfying:L,minSatisfying:$,minVersion:P,validRange:_,outside:M,gtr:z,ltr:V,intersects:j,simplifyRange:U,subset:B,SemVer:a,re:l.re,src:l.src,tokens:l.t,SEMVER_SPEC_VERSION:r.SEMVER_SPEC_VERSION,RELEASE_TYPES:r.RELEASE_TYPES,compareIdentifiers:n.compareIdentifiers,rcompareIdentifiers:n.rcompareIdentifiers}},9630:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={MAX_LENGTH:256,MAX_SAFE_COMPONENT_LENGTH:16,MAX_SAFE_BUILD_LENGTH:250,MAX_SAFE_INTEGER:t,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:"2.0.0",FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2}},9796:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},4031:e=>{const t=/^[0-9]+$/,o=(e,o)=>{const l=t.test(e),r=t.test(o);return l&&r&&(e=+e,o=+o),e===o?0:l&&!r?-1:r&&!l?1:e<o?-1:1};e.exports={compareIdentifiers:o,rcompareIdentifiers:(e,t)=>o(t,e)}},1158:e=>{e.exports=class{constructor(){this.max=1e3,this.map=new Map}get(e){const t=this.map.get(e);return void 0===t?void 0:(this.map.delete(e),this.map.set(e,t),t)}delete(e){return this.map.delete(e)}set(e,t){if(!this.delete(e)&&void 0!==t){if(this.map.size>=this.max){const e=this.map.keys().next().value;this.delete(e)}this.map.set(e,t)}return this}}},7095:e=>{const t=Object.freeze({loose:!0}),o=Object.freeze({});e.exports=e=>e?"object"!=typeof e?t:e:o},6850:(e,t,o)=>{const{MAX_SAFE_COMPONENT_LENGTH:l,MAX_SAFE_BUILD_LENGTH:r,MAX_LENGTH:a}=o(9630),n=o(9796),i=(t=e.exports={}).re=[],s=t.safeRe=[],c=t.src=[],u=t.t={};let d=0;const p="[a-zA-Z0-9-]",m=[["\\s",1],["\\d",a],[p,r]],h=(e,t,o)=>{const l=(e=>{for(const[t,o]of m)e=e.split(`${t}*`).join(`${t}{0,${o}}`).split(`${t}+`).join(`${t}{1,${o}}`);return e})(t),r=d++;n(e,r,t),u[e]=r,c[r]=t,i[r]=new RegExp(t,o?"g":void 0),s[r]=new RegExp(l,o?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","\\d+"),h("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${p}*`),h("MAINVERSION",`(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})\\.(${c[u.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})\\.(${c[u.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${c[u.NUMERICIDENTIFIER]}|${c[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${c[u.NUMERICIDENTIFIERLOOSE]}|${c[u.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${c[u.PRERELEASEIDENTIFIER]}(?:\\.${c[u.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${c[u.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[u.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER",`${p}+`),h("BUILD",`(?:\\+(${c[u.BUILDIDENTIFIER]}(?:\\.${c[u.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${c[u.MAINVERSION]}${c[u.PRERELEASE]}?${c[u.BUILD]}?`),h("FULL",`^${c[u.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${c[u.MAINVERSIONLOOSE]}${c[u.PRERELEASELOOSE]}?${c[u.BUILD]}?`),h("LOOSE",`^${c[u.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${c[u.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${c[u.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:\\.(${c[u.XRANGEIDENTIFIER]})(?:${c[u.PRERELEASE]})?${c[u.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[u.XRANGEIDENTIFIERLOOSE]})(?:${c[u.PRERELEASELOOSE]})?${c[u.BUILD]}?)?)?`),h("XRANGE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${c[u.GTLT]}\\s*${c[u.XRANGEPLAINLOOSE]}$`),h("COERCEPLAIN",`(^|[^\\d])(\\d{1,${l}})(?:\\.(\\d{1,${l}}))?(?:\\.(\\d{1,${l}}))?`),h("COERCE",`${c[u.COERCEPLAIN]}(?:$|[^\\d])`),h("COERCEFULL",c[u.COERCEPLAIN]+`(?:${c[u.PRERELEASE]})?`+`(?:${c[u.BUILD]})?(?:$|[^\\d])`),h("COERCERTL",c[u.COERCE],!0),h("COERCERTLFULL",c[u.COERCEFULL],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${c[u.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",h("TILDE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${c[u.LONETILDE]}${c[u.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${c[u.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",h("CARET",`^${c[u.LONECARET]}${c[u.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${c[u.LONECARET]}${c[u.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${c[u.GTLT]}\\s*(${c[u.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${c[u.GTLT]}\\s*(${c[u.LOOSEPLAIN]}|${c[u.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${c[u.XRANGEPLAIN]})\\s+-\\s+(${c[u.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${c[u.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[u.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")},7871:(e,t,o)=>{const l=o(5463);e.exports=(e,t,o)=>l(e,t,">",o)},1112:(e,t,o)=>{const l=o(8395);e.exports=(e,t,o)=>(e=new l(e,o),t=new l(t,o),e.intersects(t,o))},4266:(e,t,o)=>{const l=o(5463);e.exports=(e,t,o)=>l(e,t,"<",o)},7840:(e,t,o)=>{const l=o(7944),r=o(8395);e.exports=(e,t,o)=>{let a=null,n=null,i=null;try{i=new r(t,o)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(a&&-1!==n.compare(e)||(a=e,n=new l(a,o)))})),a}},7930:(e,t,o)=>{const l=o(7944),r=o(8395);e.exports=(e,t,o)=>{let a=null,n=null,i=null;try{i=new r(t,o)}catch(e){return null}return e.forEach((e=>{i.test(e)&&(a&&1!==n.compare(e)||(a=e,n=new l(a,o)))})),a}},3489:(e,t,o)=>{const l=o(7944),r=o(8395),a=o(144);e.exports=(e,t)=>{e=new r(e,t);let o=new l("0.0.0");if(e.test(o))return o;if(o=new l("0.0.0-0"),e.test(o))return o;o=null;for(let t=0;t<e.set.length;++t){const r=e.set[t];let n=null;r.forEach((e=>{const t=new l(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":n&&!a(t,n)||(n=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!n||o&&!a(o,n)||(o=n)}return o&&e.test(o)?o:null}},5463:(e,t,o)=>{const l=o(7944),r=o(9524),{ANY:a}=r,n=o(8395),i=o(1722),s=o(144),c=o(599),u=o(7092),d=o(2077);e.exports=(e,t,o,p)=>{let m,h,g,f,b;switch(e=new l(e,p),t=new n(t,p),o){case">":m=s,h=u,g=c,f=">",b=">=";break;case"<":m=c,h=d,g=s,f="<",b="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(e,t,p))return!1;for(let o=0;o<t.set.length;++o){const l=t.set[o];let n=null,i=null;if(l.forEach((e=>{e.semver===a&&(e=new r(">=0.0.0")),n=n||e,i=i||e,m(e.semver,n.semver,p)?n=e:g(e.semver,i.semver,p)&&(i=e)})),n.operator===f||n.operator===b)return!1;if((!i.operator||i.operator===f)&&h(e,i.semver))return!1;if(i.operator===b&&g(e,i.semver))return!1}return!0}},1465:(e,t,o)=>{const l=o(1722),r=o(5380);e.exports=(e,t,o)=>{const a=[];let n=null,i=null;const s=e.sort(((e,t)=>r(e,t,o)));for(const e of s){l(e,t,o)?(i=e,n||(n=e)):(i&&a.push([n,i]),i=null,n=null)}n&&a.push([n,null]);const c=[];for(const[e,t]of a)e===t?c.push(e):t||e!==s[0]?t?e===s[0]?c.push(`<=${t}`):c.push(`${e} - ${t}`):c.push(`>=${e}`):c.push("*");const u=c.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return u.length<d.length?u:t}},9252:(e,t,o)=>{const l=o(8395),r=o(9524),{ANY:a}=r,n=o(1722),i=o(5380),s=[new r(">=0.0.0-0")],c=[new r(">=0.0.0")],u=(e,t,o)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===a){if(1===t.length&&t[0].semver===a)return!0;e=o.includePrerelease?s:c}if(1===t.length&&t[0].semver===a){if(o.includePrerelease)return!0;t=c}const l=new Set;let r,u,m,h,g,f,b;for(const t of e)">"===t.operator||">="===t.operator?r=d(r,t,o):"<"===t.operator||"<="===t.operator?u=p(u,t,o):l.add(t.semver);if(l.size>1)return null;if(r&&u){if(m=i(r.semver,u.semver,o),m>0)return null;if(0===m&&(">="!==r.operator||"<="!==u.operator))return null}for(const e of l){if(r&&!n(e,String(r),o))return null;if(u&&!n(e,String(u),o))return null;for(const l of t)if(!n(e,String(l),o))return!1;return!0}let y=!(!u||o.includePrerelease||!u.semver.prerelease.length)&&u.semver,v=!(!r||o.includePrerelease||!r.semver.prerelease.length)&&r.semver;y&&1===y.prerelease.length&&"<"===u.operator&&0===y.prerelease[0]&&(y=!1);for(const e of t){if(b=b||">"===e.operator||">="===e.operator,f=f||"<"===e.operator||"<="===e.operator,r)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),">"===e.operator||">="===e.operator){if(h=d(r,e,o),h===e&&h!==r)return!1}else if(">="===r.operator&&!n(r.semver,String(e),o))return!1;if(u)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),"<"===e.operator||"<="===e.operator){if(g=p(u,e,o),g===e&&g!==u)return!1}else if("<="===u.operator&&!n(u.semver,String(e),o))return!1;if(!e.operator&&(u||r)&&0!==m)return!1}return!(r&&f&&!u&&0!==m)&&(!(u&&b&&!r&&0!==m)&&(!v&&!y))},d=(e,t,o)=>{if(!e)return t;const l=i(e.semver,t.semver,o);return l>0?e:l<0||">"===t.operator&&">="===e.operator?t:e},p=(e,t,o)=>{if(!e)return t;const l=i(e.semver,t.semver,o);return l<0?e:l>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,o={})=>{if(e===t)return!0;e=new l(e,o),t=new l(t,o);let r=!1;e:for(const l of e.set){for(const e of t.set){const t=u(l,e,o);if(r=r||null!==t,t)continue e}if(r)return!1}return!0}},651:(e,t,o)=>{const l=o(8395);e.exports=(e,t)=>new l(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},7494:(e,t,o)=>{const l=o(8395);e.exports=(e,t)=>{try{return new l(e,t).range||"*"}catch(e){return null}}},6089:t=>{"use strict";t.exports=e},7781:e=>{"use strict";e.exports=t},8531:e=>{"use strict";e.exports=o},2007:e=>{"use strict";e.exports=l},4201:e=>{"use strict";e.exports=r},3241:e=>{"use strict";e.exports=a},1308:e=>{"use strict";e.exports=n},5959:e=>{"use strict";e.exports=i},4452:(e,t)=>{var o;!function(){"use strict";var l={}.hasOwnProperty;function r(){for(var e="",t=0;t<arguments.length;t++){var o=arguments[t];o&&(e=n(e,a(o)))}return e}function a(e){if("string"==typeof e||"number"==typeof e)return e;if("object"!=typeof e)return"";if(Array.isArray(e))return r.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var o in e)l.call(e,o)&&e[o]&&(t=n(t,o));return t}function n(e,t){return t?e?e+" "+t:e+t:e}e.exports?(r.default=r,e.exports=r):void 0===(o=function(){return r}.apply(t,[]))||(e.exports=o)}()}},c={};function u(e){var t=c[e];if(void 0!==t)return t.exports;var o=c[e]={exports:{}};return s[e](o,o.exports,u),o.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var o in t)u.o(t,o)&&!u.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),u.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},u.p="public/plugins/grafana-polystat-panel/";var d={};return(()=>{"use strict";u.r(d),u.d(d,{plugin:()=>il});var e=u(1308),t=u.n(e);u.p=t()&&t().uri?t().uri.slice(0,t().uri.lastIndexOf("/")+1):"public/plugins/grafana-polystat-panel/";var o=u(7781),l=function(e){return e.HEXAGON_POINTED_TOP="hexagon_pointed_top",e.CIRCLE="circle",e.SQUARE="square",e}({});const r=[{value:"hexagon_pointed_top",label:"Hexagon Pointed Top"},{value:"circle",label:"Circle"},{value:"square",label:"Square"}],a=[{value:"mean",label:"Mean (avg)"},{value:"sum",label:"Sum"},{value:"min",label:"Min"},{value:"max",label:"Max"},{value:"last",label:"Last"},{value:"lastNotNull",label:"Last Not Null"},{value:"first",label:"First"},{value:"firstNotNull",label:"First Not Null"},{value:"count",label:"Count"},{value:"allIsNull",label:"All Is Null (boolean)"},{value:"allIsZero",label:"All Is Zero (boolean)"},{value:"delta",label:"Delta"},{value:"diff",label:"Difference"},{value:"diffperc",label:"Difference (Percent)"},{value:"last_time",label:"Time of Last Point"},{value:"logmin",label:"Log Min"},{value:"name",label:"Name"},{value:"nonNullCount",label:"Non Null Count"},{value:"previousDeltaUp",label:"Previous Delta Up"},{value:"range",label:"Range"},{value:"step",label:"Step"}],n=[{value:0,label:"Disabled"},{value:1,label:"Alphabetical (asc)"},{value:2,label:"Alphabetical (desc)"},{value:3,label:"Numerical (asc)"},{value:4,label:"Numerical (desc)"},{value:5,label:"Alphabetical (case-insensitive, asc)"},{value:6,label:"Alphabetical (case-insensitive, desc)"},{value:7,label:"Natural sort (asc)"},{value:8,label:"Natural sort (desc)"}],i=[{value:"name",label:"Name"},{value:"thresholdLevel",label:"Threshold Level"},{value:"value",label:"Value"}],s=[{value:"all",label:"Show All"},{value:"triggered",label:"Show Triggered"}];var c=function(e){return e.ARIAL="Arial",e.HELVETICA="Helvetica",e.HELVETICA_NEUE="Helvetica Neue",e.INTER="Inter",e.ROBOTO="Roboto",e.ROBOTO_MONO="Roboto Mono",e}({});const p=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"Inter",label:"Inter"},{value:"Roboto Mono",label:"Roboto Mono"}],m=[{value:"Arial",label:"Arial"},{value:"Helvetica",label:"Helvetica"},{value:"Helvetica Neue",label:"Helvetica Neue"},{value:"Roboto",label:"Roboto"},{value:"Roboto Mono",label:"Roboto Mono"}],h=[{value:"HH:mm:ss",label:"HH:mm:ss"},{value:"YYYY-MM-DD HH:mm",label:"YYYY-MM-DD HH:mm"},{value:"YYYY-MM-DD HH:mm:ss",label:"YYYY-MM-DD HH:mm:ss"},{value:"YYYY-MM-DD HH:mm:ss.SSS",label:"YYYY-MM-DD HH:mm:ss.SSS"},{value:"MM/DD/YY h:mm:ss a",label:"MM/DD/YY h:mm:ss a"},{value:"MMMM D, YYYY LT",label:"MMMM D, YYYY LT"},{value:"YYYY-MM-DD",label:"YYYY-MM-DD"}];var g=function(e){return e.BELOW_VALUE="below_value",e.ABOVE_VALUE="above_value",e}({});const f=[{value:"above_value",label:"Above Value"},{value:"below_value",label:"Below Value"}];var b=u(5959),y=u.n(b),v=u(2007),E=u(3241);const w={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let T;const S=new Uint8Array(16);const C=[];for(let e=0;e<256;++e)C.push((e+256).toString(16).slice(1));function x(e,t=0){return(C[e[t+0]]+C[e[t+1]]+C[e[t+2]]+C[e[t+3]]+"-"+C[e[t+4]]+C[e[t+5]]+"-"+C[e[t+6]]+C[e[t+7]]+"-"+C[e[t+8]]+C[e[t+9]]+"-"+C[e[t+10]]+C[e[t+11]]+C[e[t+12]]+C[e[t+13]]+C[e[t+14]]+C[e[t+15]]).toLowerCase()}const O=function(e,t,o){if(w.randomUUID&&!t&&!e)return w.randomUUID();const l=(e=e||{}).random??e.rng?.()??function(){if(!T){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T=crypto.getRandomValues.bind(crypto)}return T(S)}();if(l.length<16)throw new Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,t){if((o=o||0)<0||o+16>t.length)throw new RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[o+e]=l[e];return t}return x(l)};var N=u(6089);const R=[{value:0,label:"ok"},{value:1,label:"warning"},{value:2,label:"critical"},{value:3,label:"custom"}],F=e=>{const t=(0,v.useStyles2)(k),[o,l]=(0,b.useState)((e=>{const t=R.keys();for(const o of t)if(R[o].value===e)return R[o];return R[0]})(e.threshold.state));return y().createElement(v.Input,{disabled:e.disabled,type:"number",step:"1.0",key:e.ID,onChange:t=>e.valueSetter(e.index,Number(t.currentTarget.value)),value:e.threshold.value,prefix:y().createElement("div",{className:t.inputPrefix},y().createElement("div",{className:t.colorPicker},y().createElement(v.ColorPicker,{color:e.threshold.color,onChange:t=>e.colorSetter(e.index,t),enableNamedColors:!0}))),suffix:y().createElement(y().Fragment,null,y().createElement(v.Select,{disabled:e.disabled,menuShouldPortal:!0,value:o,onChange:t=>{l(t),e.stateSetter(e.index,t.value)},options:R}),y().createElement(v.IconButton,{disabled:e.disabled,key:"deleteThreshold",variant:"destructive",name:"trash-alt",tooltip:"Delete Threshold",onClick:()=>e.remover(e.index)}))})},k=e=>({inputPrefix:N.css`
      display: flex;
      align-items: center;
    `,colorPicker:N.css`
      padding: 0 ${e.spacing(1)};
    `});function A(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class D{asHex(){return"#"+((1<<24)+(this.r<<16)+(this.g<<8)+this.b).toString(16).slice(1)}asRGB(){return"rgb("+this.r+","+this.g+","+this.b+")"}blendWith(e,t){const o=Math.round(e.r*(1-t)+this.r*t),l=Math.round(e.g*(1-t)+this.g*t),r=Math.round(e.b*(1-t)+this.b*t);return new D(o,l,r)}Mul(e,t){const o=Math.round(e.r/255*this.r*t),l=Math.round(e.g/255*this.g*t),r=Math.round(e.b/255*this.b*t);return new D(o,l,r)}RGBToHex(e){let t=e.indexOf(",")>-1?",":" ";e=e.substr(4).split(")")[0].split(t);for(let t in e){let o=e[t];o.indexOf("%")>-1&&(e[t]=Math.round(o.substr(0,o.length-1)/100*255))}}static RGBAToHex(e){const t=e.replace(/\s/g,"").match(/^rgba?\((\d+),(\d+),(\d+),?([^,\s)]+)?/i),o=(t&&t[4]||"").trim();let l=t?(256|parseInt(t[1],10)).toString(16).slice(1)+(256|parseInt(t[2],10)).toString(16).slice(1)+(256|parseInt(t[3],10)).toString(16).slice(1):e,r="1";if(""!==o){r=(255*parseFloat(o)|256).toString(16).slice(1)}return"#"+l+r}fromHex(e){e=e.substring(1,7);const t=parseInt(e,16);this.r=t>>16&255,this.g=t>>8&255,this.b=255&t}constructor(e,t,o){A(this,"r",void 0),A(this,"g",void 0),A(this,"b",void 0),this.r=e,this.g=t,this.b=o}}const I="rgba(10, 85, 161, 1)",L=(new D(10,85,161),"#299c46"),$=new D(41,156,70),P="#ed8128",_=new D(237,129,40),M="#f53636",z=new D(245,54,54),V="#0a55a1",j=(new D(64,64,160),c.INTER),U=c.INTER,B=c.ROBOTO,H=c.ROBOTO,G=e=>{const[t,o]=(0,b.useState)((()=>{if(!e.thresholds)return[];const t=[];return e.thresholds.forEach(((e,o)=>{t[o]={threshold:e,order:o,ID:O()}})),t})),l=(0,v.useTheme2)(),r=((0,v.useTheme)(),t=>{o(t);const l=[];t.forEach((e=>{l.push(e.threshold)})),e.setter(l)}),a=(e,o)=>{t[e].threshold.value=Number(o);const l=[...t],a=(0,E.orderBy)(l,["threshold.value"],["asc"]);r([...a])},n=(e,o)=>{const a=l.visualization.getColorByName(o);t[e].threshold.color=a,r([...t])},i=(e,o)=>{t[e].threshold.state=o,o<3&&(t[e].threshold.color=s(o)),r([...t])},s=e=>{switch(e){case 0:default:return L;case 1:return P;case 2:return M}},c=e=>{const o=[...t];let l=0;for(let t=0;t<o.length;t++)if(o[t].order===e){l=t;break}o.splice(l,1);for(let e=0;e<o.length;e++)o[e].order=e;r([...o])};return y().createElement(y().Fragment,null,y().createElement(v.Button,{disabled:e.disabled,fill:"solid",variant:"primary",icon:"plus",onClick:()=>{const e=t.length,o={threshold:{color:L,state:0,value:0},order:e,ID:O()};r([...t,o])}},"Add Threshold"),t&&t.map(((t,o)=>y().createElement(F,{disabled:e.disabled||!1,key:`threshold-item-index-${t.ID}`,ID:t.ID,threshold:t.threshold,valueSetter:a,colorSetter:n,stateSetter:i,remover:c,index:o}))))},Y=e=>{let t=new Set;for(let n=0;n<e.length;n++){var l;let i="";(null===(l=e[n])||void 0===l?void 0:l.name)&&(i=e[n].name);for(const l of e[n].fields)if(l.type===o.FieldType.number){var r,a;if(l.name&&""===i&&(i=l.name),(null==l?void 0:l.labels)&&"__name__"in l.labels){i=l.labels.__name__;const e=[];for(const t in l.labels)"__name__"!==t&&e.push(`${t}="${l.labels[t]}"`);e.length>0&&(e.sort(),i+="{"+e.join("")+"}")}if((null==l?void 0:l.config)&&(null===(r=l.config)||void 0===r?void 0:r.displayNameFromDS))i=null===(a=l.config)||void 0===a?void 0:a.displayNameFromDS;t.add(i)}}return t};function X(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function W(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){X(e,t,o[t])}))}return e}function q(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const Q=e=>{const[t,o]=(0,b.useState)([]),[l,r]=(0,b.useState)(e.override),n=t=>{r(t),e.setter(l.order,t)},[i]=(0,b.useState)("eye"),[s]=(0,b.useState)("eye-slash"),[c,u]=(0,b.useState)((e=>{const t=a.keys();for(const o of t)if(a[o].value===e)return a[o];return a[5]})(e.override.operatorName));return(0,b.useEffect)((()=>{if(e.context.data){const t=e.context.data;let l=[],r=Y(t);for(const e of r)l.push({label:e,value:e});o(l)}}),[e.context.data]),y().createElement(v.Card,{key:`override-card-${e.ID}`},y().createElement(v.Card.Meta,null,y().createElement(v.FieldSet,null,y().createElement(v.Field,{label:"Label",description:"Sets the name of the override in the configuration editor.",disabled:!l.enabled},y().createElement(v.Input,{value:l.label,placeholder:"",onChange:e=>n(q(W({},l),{label:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Metric/RegEx",disabled:!l.enabled},y().createElement(v.Cascader,{initialValue:l.metricName,allowCustomValue:!0,placeholder:"",options:t,onSelect:e=>n(q(W({},l),{metricName:e}))})),y().createElement(v.Field,{label:"Alias",disabled:!l.enabled,hidden:!0},y().createElement(v.Input,{value:l.alias,placeholder:"",onChange:e=>n(q(W({},l),{alias:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Decimals",disabled:!l.enabled},y().createElement(v.Input,{value:l.decimals,type:"number",step:1,placeholder:"",onChange:e=>n(q(W({},l),{decimals:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Stat",description:"The statistic to be displayed",disabled:!l.enabled},y().createElement(v.Select,{menuShouldPortal:!0,value:c,onChange:e=>{u(e),n(q(W({},l),{operatorName:e.value}))},options:a})),y().createElement(v.Field,{label:"Unit Format",disabled:!l.enabled},l.enabled?y().createElement(v.UnitPicker,{value:l.unitFormat,onChange:e=>n(q(W({},l),{unitFormat:e}))}):y().createElement("span",null,l.unitFormat)),y().createElement(v.Field,{label:"Thresholds",disabled:!l.enabled},y().createElement(G,{disabled:!l.enabled,thresholds:l.thresholds,setter:e=>{n(q(W({},l),{thresholds:e}))}})),y().createElement(v.Field,{label:"Prefix",description:"Apply text to beginning of metric",disabled:!l.enabled},y().createElement(v.Input,{value:l.prefix,placeholder:"",onChange:e=>n(q(W({},l),{prefix:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Suffix",description:"Apply text to end of metric",disabled:!l.enabled},y().createElement(v.Input,{value:l.suffix,placeholder:"",onChange:e=>n(q(W({},l),{suffix:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Clickthrough URL",description:"URL to Open on Click",disabled:!l.enabled},y().createElement(v.Input,{value:l.clickThrough,placeholder:"https://",onChange:e=>n(q(W({},l),{clickThrough:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Sanitize URL",description:"Sanitize URL before evaluating",disabled:!l.enabled},y().createElement(v.Switch,{transparent:!1,disabled:!l.enabled,value:l.clickThroughSanitize,onChange:()=>n(q(W({},l),{clickThroughSanitize:!l.clickThroughSanitize}))})),y().createElement(v.Field,{label:"Open URL in New Tab",description:"Open link in new tab",disabled:!l.enabled},y().createElement(v.Switch,{transparent:!1,value:l.clickThroughOpenNewTab,disabled:!l.enabled,onChange:()=>n(q(W({},l),{clickThroughOpenNewTab:!l.clickThroughOpenNewTab}))})),y().createElement(v.Field,{label:"Enable Custom URL Target",description:"Enable custom target",disabled:!l.enabled,hidden:l.clickThroughOpenNewTab},y().createElement(v.Switch,{transparent:!1,value:l.clickThroughCustomTargetEnabled,disabled:!l.enabled,onChange:()=>n(q(W({},l),{clickThroughCustomTargetEnabled:!l.clickThroughCustomTargetEnabled,clickThroughCustomTarget:l.clickThroughCustomTarget||""}))})),y().createElement(v.Field,{label:"Custom URL Target",description:"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename",disabled:!l.enabled,hidden:!l.clickThroughCustomTargetEnabled},y().createElement(v.Input,{value:l.clickThroughCustomTarget,placeholder:"_self",disabled:!l.enabled,onChange:e=>n(q(W({},l),{clickThroughCustomTarget:e.currentTarget.value}))})))),y().createElement(v.Card.Actions,null,y().createElement(v.IconButton,{key:"moveUp",name:"arrow-up",tooltip:"Move Up",onClick:()=>{e.moveUp(l.order)}}),y().createElement(v.IconButton,{key:"moveDown",name:"arrow-down",tooltip:"Move Down",onClick:()=>{e.moveDown(l.order)}}),y().createElement(v.IconButton,{key:"overrideEnabled",name:l.enabled?i:s,tooltip:"Hide/Show Override",onClick:()=>n(q(W({},l),{enabled:!l.enabled}))}),y().createElement(v.IconButton,{key:"copyOverride",name:"copy",tooltip:"Duplicate",onClick:()=>{e.createDuplicate(l.order)}}),y().createElement(v.IconButton,{key:"deleteOverride",variant:"destructive",name:"trash-alt",tooltip:"Delete Override",onClick:()=>{e.remover(l.order)}})))},K=({item:e,context:t,onChange:o})=>{const[l]=(0,b.useState)(t.options.overrideConfig),[r,n]=(0,b.useState)((()=>{if(!l.overrides)return[];const e=[];return l.overrides.forEach(((t,o)=>{e[o]={override:t,order:o,ID:O()}})),e})),i=e=>{n(e);const t=[];e.forEach((e=>{t.push(e.override)}));const r={overrides:t,enabled:l.enabled};o(r)},[s,c]=(0,b.useState)((()=>{if(!r)return[];let e=r.length;const t=[];for(;e--;)t[e]=!1;return t})),u=(e,t)=>{r[e].override=t,i([...r])},d=e=>{const t=r[e].override,o=r.length,l={override:{label:`${t.label} Copy`,enabled:t.enabled,metricName:t.metricName,alias:t.alias,thresholds:t.thresholds,prefix:t.prefix,suffix:t.suffix,clickThrough:t.clickThrough,clickThroughOpenNewTab:t.clickThroughOpenNewTab,clickThroughSanitize:t.clickThroughSanitize,clickThroughCustomTargetEnabled:t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,unitFormat:t.unitFormat,scaledDecimals:t.scaledDecimals,decimals:t.decimals,colors:t.colors,operatorName:t.operatorName,order:o},order:o,ID:O()};i([...r,l]),c([...s,!0])},p=(e,t,o)=>{if(o>=e.length){let t=o-e.length+1;for(;t--;)e.push(void 0)}e.splice(o,0,e.splice(t,1)[0])},m=e=>{if(e!==r.length-1){p(r,e,e+1);for(let e=0;e<r.length;e++)r[e].order=e,r[e].override.order=e;i([...r])}},g=e=>{if(e>0){p(r,e,e-1);for(let e=0;e<r.length;e++)r[e].order=e,r[e].override.order=e;i([...r])}},f=e=>{const t=[...r];let o=0;for(let l=0;l<t.length;l++)if(t[l].order===e){o=l;break}t.splice(o,1);for(let e=0;e<t.length;e++)t[e].order=e,t[e].override.order=e;i([...t])};return y().createElement(y().Fragment,null,y().createElement(v.Button,{fill:"solid",variant:"primary",icon:"plus",onClick:()=>{const e=r.length,t={override:{label:`Override-${e}`,enabled:!0,metricName:"",alias:"",thresholds:[],prefix:"",suffix:"",clickThrough:"",clickThroughOpenNewTab:!0,clickThroughSanitize:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,unitFormat:"short",scaledDecimals:null,decimals:"2",colors:[L,P,M,V],operatorName:a[0].value,order:e},order:e,ID:O()};i([...r,t]),c([...s,!0])}},"Add Override"),r&&r.map(((e,o)=>y().createElement(v.Collapse,{key:`collapse-item-index-${e.ID}`,label:e.override.label,isOpen:s[o],onToggle:()=>(e=>{const t=[...s];t[e]=!t[e],c([...t])})(o),collapsible:!0},y().createElement(Q,{key:`override-item-index-${e.ID}`,ID:e.ID,override:e.override,enabled:e.override.enabled,setter:u,remover:f,moveDown:m,moveUp:g,createDuplicate:d,context:t})))))};var J=u(4201),Z=Math.PI/3,ee=[0,Z,2*Z,3*Z,4*Z,5*Z];function te(e){return e[0]}function oe(e){return e[1]}const le=Math.min,re=Math.max,ae=Math.round,ne=Math.floor,ie=e=>({x:e,y:e}),se={left:"right",right:"left",bottom:"top",top:"bottom"},ce={start:"end",end:"start"};function ue(e,t,o){return re(e,le(t,o))}function de(e,t){return"function"==typeof e?e(t):e}function pe(e){return e.split("-")[0]}function me(e){return e.split("-")[1]}function he(e){return"x"===e?"y":"x"}function ge(e){return"y"===e?"height":"width"}function fe(e){return["top","bottom"].includes(pe(e))?"y":"x"}function be(e){return he(fe(e))}function ye(e){return e.replace(/start|end/g,(e=>ce[e]))}function ve(e){return e.replace(/left|right|bottom|top/g,(e=>se[e]))}function Ee(e){return"number"!=typeof e?function(e){return{top:0,right:0,bottom:0,left:0,...e}}(e):{top:e,right:e,bottom:e,left:e}}function we(e){const{x:t,y:o,width:l,height:r}=e;return{width:l,height:r,top:o,left:t,right:t+l,bottom:o+r,x:t,y:o}}function Te(e,t,o){let{reference:l,floating:r}=e;const a=fe(t),n=be(t),i=ge(n),s=pe(t),c="y"===a,u=l.x+l.width/2-r.width/2,d=l.y+l.height/2-r.height/2,p=l[i]/2-r[i]/2;let m;switch(s){case"top":m={x:u,y:l.y-r.height};break;case"bottom":m={x:u,y:l.y+l.height};break;case"right":m={x:l.x+l.width,y:d};break;case"left":m={x:l.x-r.width,y:d};break;default:m={x:l.x,y:l.y}}switch(me(t)){case"start":m[n]-=p*(o&&c?-1:1);break;case"end":m[n]+=p*(o&&c?-1:1)}return m}async function Se(e,t){var o;void 0===t&&(t={});const{x:l,y:r,platform:a,rects:n,elements:i,strategy:s}=e,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:p=!1,padding:m=0}=de(t,e),h=Ee(m),g=i[p?"floating"===d?"reference":"floating":d],f=we(await a.getClippingRect({element:null==(o=await(null==a.isElement?void 0:a.isElement(g)))||o?g:g.contextElement||await(null==a.getDocumentElement?void 0:a.getDocumentElement(i.floating)),boundary:c,rootBoundary:u,strategy:s})),b="floating"===d?{x:l,y:r,width:n.floating.width,height:n.floating.height}:n.reference,y=await(null==a.getOffsetParent?void 0:a.getOffsetParent(i.floating)),v=await(null==a.isElement?void 0:a.isElement(y))&&await(null==a.getScale?void 0:a.getScale(y))||{x:1,y:1},E=we(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:i,rect:b,offsetParent:y,strategy:s}):b);return{top:(f.top-E.top+h.top)/v.y,bottom:(E.bottom-f.bottom+h.bottom)/v.y,left:(f.left-E.left+h.left)/v.x,right:(E.right-f.right+h.right)/v.x}}function Ce(){return"undefined"!=typeof window}function xe(e){return Re(e)?(e.nodeName||"").toLowerCase():"#document"}function Oe(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function Ne(e){var t;return null==(t=(Re(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function Re(e){return!!Ce()&&(e instanceof Node||e instanceof Oe(e).Node)}function Fe(e){return!!Ce()&&(e instanceof Element||e instanceof Oe(e).Element)}function ke(e){return!!Ce()&&(e instanceof HTMLElement||e instanceof Oe(e).HTMLElement)}function Ae(e){return!(!Ce()||"undefined"==typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof Oe(e).ShadowRoot)}function De(e){const{overflow:t,overflowX:o,overflowY:l,display:r}=Me(e);return/auto|scroll|overlay|hidden|clip/.test(t+l+o)&&!["inline","contents"].includes(r)}function Ie(e){return["table","td","th"].includes(xe(e))}function Le(e){return[":popover-open",":modal"].some((t=>{try{return e.matches(t)}catch(e){return!1}}))}function $e(e){const t=Pe(),o=Fe(e)?Me(e):e;return["transform","translate","scale","rotate","perspective"].some((e=>!!o[e]&&"none"!==o[e]))||!!o.containerType&&"normal"!==o.containerType||!t&&!!o.backdropFilter&&"none"!==o.backdropFilter||!t&&!!o.filter&&"none"!==o.filter||["transform","translate","scale","rotate","perspective","filter"].some((e=>(o.willChange||"").includes(e)))||["paint","layout","strict","content"].some((e=>(o.contain||"").includes(e)))}function Pe(){return!("undefined"==typeof CSS||!CSS.supports)&&CSS.supports("-webkit-backdrop-filter","none")}function _e(e){return["html","body","#document"].includes(xe(e))}function Me(e){return Oe(e).getComputedStyle(e)}function ze(e){return Fe(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Ve(e){if("html"===xe(e))return e;const t=e.assignedSlot||e.parentNode||Ae(e)&&e.host||Ne(e);return Ae(t)?t.host:t}function je(e){const t=Ve(e);return _e(t)?e.ownerDocument?e.ownerDocument.body:e.body:ke(t)&&De(t)?t:je(t)}function Ue(e,t,o){var l;void 0===t&&(t=[]),void 0===o&&(o=!0);const r=je(e),a=r===(null==(l=e.ownerDocument)?void 0:l.body),n=Oe(r);if(a){const e=Be(n);return t.concat(n,n.visualViewport||[],De(r)?r:[],e&&o?Ue(e):[])}return t.concat(r,Ue(r,[],o))}function Be(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function He(e){const t=Me(e);let o=parseFloat(t.width)||0,l=parseFloat(t.height)||0;const r=ke(e),a=r?e.offsetWidth:o,n=r?e.offsetHeight:l,i=ae(o)!==a||ae(l)!==n;return i&&(o=a,l=n),{width:o,height:l,$:i}}function Ge(e){return Fe(e)?e:e.contextElement}function Ye(e){const t=Ge(e);if(!ke(t))return ie(1);const o=t.getBoundingClientRect(),{width:l,height:r,$:a}=He(t);let n=(a?ae(o.width):o.width)/l,i=(a?ae(o.height):o.height)/r;return n&&Number.isFinite(n)||(n=1),i&&Number.isFinite(i)||(i=1),{x:n,y:i}}const Xe=ie(0);function We(e){const t=Oe(e);return Pe()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:Xe}function qe(e,t,o,l){void 0===t&&(t=!1),void 0===o&&(o=!1);const r=e.getBoundingClientRect(),a=Ge(e);let n=ie(1);t&&(l?Fe(l)&&(n=Ye(l)):n=Ye(e));const i=function(e,t,o){return void 0===t&&(t=!1),!(!o||t&&o!==Oe(e))&&t}(a,o,l)?We(a):ie(0);let s=(r.left+i.x)/n.x,c=(r.top+i.y)/n.y,u=r.width/n.x,d=r.height/n.y;if(a){const e=Oe(a),t=l&&Fe(l)?Oe(l):l;let o=e,r=Be(o);for(;r&&l&&t!==o;){const e=Ye(r),t=r.getBoundingClientRect(),l=Me(r),a=t.left+(r.clientLeft+parseFloat(l.paddingLeft))*e.x,n=t.top+(r.clientTop+parseFloat(l.paddingTop))*e.y;s*=e.x,c*=e.y,u*=e.x,d*=e.y,s+=a,c+=n,o=Oe(r),r=Be(o)}}return we({width:u,height:d,x:s,y:c})}function Qe(e,t){const o=ze(e).scrollLeft;return t?t.left+o:qe(Ne(e)).left+o}function Ke(e,t,o){void 0===o&&(o=!1);const l=e.getBoundingClientRect();return{x:l.left+t.scrollLeft-(o?0:Qe(e,l)),y:l.top+t.scrollTop}}function Je(e,t,o){let l;if("viewport"===t)l=function(e,t){const o=Oe(e),l=Ne(e),r=o.visualViewport;let a=l.clientWidth,n=l.clientHeight,i=0,s=0;if(r){a=r.width,n=r.height;const e=Pe();(!e||e&&"fixed"===t)&&(i=r.offsetLeft,s=r.offsetTop)}return{width:a,height:n,x:i,y:s}}(e,o);else if("document"===t)l=function(e){const t=Ne(e),o=ze(e),l=e.ownerDocument.body,r=re(t.scrollWidth,t.clientWidth,l.scrollWidth,l.clientWidth),a=re(t.scrollHeight,t.clientHeight,l.scrollHeight,l.clientHeight);let n=-o.scrollLeft+Qe(e);const i=-o.scrollTop;return"rtl"===Me(l).direction&&(n+=re(t.clientWidth,l.clientWidth)-r),{width:r,height:a,x:n,y:i}}(Ne(e));else if(Fe(t))l=function(e,t){const o=qe(e,!0,"fixed"===t),l=o.top+e.clientTop,r=o.left+e.clientLeft,a=ke(e)?Ye(e):ie(1);return{width:e.clientWidth*a.x,height:e.clientHeight*a.y,x:r*a.x,y:l*a.y}}(t,o);else{const o=We(e);l={x:t.x-o.x,y:t.y-o.y,width:t.width,height:t.height}}return we(l)}function Ze(e,t){const o=Ve(e);return!(o===t||!Fe(o)||_e(o))&&("fixed"===Me(o).position||Ze(o,t))}function et(e,t,o){const l=ke(t),r=Ne(t),a="fixed"===o,n=qe(e,!0,a,t);let i={scrollLeft:0,scrollTop:0};const s=ie(0);if(l||!l&&!a)if(("body"!==xe(t)||De(r))&&(i=ze(t)),l){const e=qe(t,!0,a,t);s.x=e.x+t.clientLeft,s.y=e.y+t.clientTop}else r&&(s.x=Qe(r));const c=!r||l||a?ie(0):Ke(r,i);return{x:n.left+i.scrollLeft-s.x-c.x,y:n.top+i.scrollTop-s.y-c.y,width:n.width,height:n.height}}function tt(e){return"static"===Me(e).position}function ot(e,t){if(!ke(e)||"fixed"===Me(e).position)return null;if(t)return t(e);let o=e.offsetParent;return Ne(e)===o&&(o=o.ownerDocument.body),o}function lt(e,t){const o=Oe(e);if(Le(e))return o;if(!ke(e)){let t=Ve(e);for(;t&&!_e(t);){if(Fe(t)&&!tt(t))return t;t=Ve(t)}return o}let l=ot(e,t);for(;l&&Ie(l)&&tt(l);)l=ot(l,t);return l&&_e(l)&&tt(l)&&!$e(l)?o:l||function(e){let t=Ve(e);for(;ke(t)&&!_e(t);){if($e(t))return t;if(Le(t))return null;t=Ve(t)}return null}(e)||o}const rt={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:o,offsetParent:l,strategy:r}=e;const a="fixed"===r,n=Ne(l),i=!!t&&Le(t.floating);if(l===n||i&&a)return o;let s={scrollLeft:0,scrollTop:0},c=ie(1);const u=ie(0),d=ke(l);if((d||!d&&!a)&&(("body"!==xe(l)||De(n))&&(s=ze(l)),ke(l))){const e=qe(l);c=Ye(l),u.x=e.x+l.clientLeft,u.y=e.y+l.clientTop}const p=!n||d||a?ie(0):Ke(n,s,!0);return{width:o.width*c.x,height:o.height*c.y,x:o.x*c.x-s.scrollLeft*c.x+u.x+p.x,y:o.y*c.y-s.scrollTop*c.y+u.y+p.y}},getDocumentElement:Ne,getClippingRect:function(e){let{element:t,boundary:o,rootBoundary:l,strategy:r}=e;const a=[..."clippingAncestors"===o?Le(t)?[]:function(e,t){const o=t.get(e);if(o)return o;let l=Ue(e,[],!1).filter((e=>Fe(e)&&"body"!==xe(e))),r=null;const a="fixed"===Me(e).position;let n=a?Ve(e):e;for(;Fe(n)&&!_e(n);){const t=Me(n),o=$e(n);o||"fixed"!==t.position||(r=null),(a?!o&&!r:!o&&"static"===t.position&&r&&["absolute","fixed"].includes(r.position)||De(n)&&!o&&Ze(e,n))?l=l.filter((e=>e!==n)):r=t,n=Ve(n)}return t.set(e,l),l}(t,this._c):[].concat(o),l],n=a[0],i=a.reduce(((e,o)=>{const l=Je(t,o,r);return e.top=re(l.top,e.top),e.right=le(l.right,e.right),e.bottom=le(l.bottom,e.bottom),e.left=re(l.left,e.left),e}),Je(t,n,r));return{width:i.right-i.left,height:i.bottom-i.top,x:i.left,y:i.top}},getOffsetParent:lt,getElementRects:async function(e){const t=this.getOffsetParent||lt,o=this.getDimensions,l=await o(e.floating);return{reference:et(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:l.width,height:l.height}}},getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){const{width:t,height:o}=He(e);return{width:t,height:o}},getScale:Ye,isElement:Fe,isRTL:function(e){return"rtl"===Me(e).direction}};function at(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function nt(e,t,o,l){void 0===l&&(l={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:n="function"==typeof ResizeObserver,layoutShift:i="function"==typeof IntersectionObserver,animationFrame:s=!1}=l,c=Ge(e),u=r||a?[...c?Ue(c):[],...Ue(t)]:[];u.forEach((e=>{r&&e.addEventListener("scroll",o,{passive:!0}),a&&e.addEventListener("resize",o)}));const d=c&&i?function(e,t){let o,l=null;const r=Ne(e);function a(){var e;clearTimeout(o),null==(e=l)||e.disconnect(),l=null}return function n(i,s){void 0===i&&(i=!1),void 0===s&&(s=1),a();const c=e.getBoundingClientRect(),{left:u,top:d,width:p,height:m}=c;if(i||t(),!p||!m)return;const h={rootMargin:-ne(d)+"px "+-ne(r.clientWidth-(u+p))+"px "+-ne(r.clientHeight-(d+m))+"px "+-ne(u)+"px",threshold:re(0,le(1,s))||1};let g=!0;function f(t){const l=t[0].intersectionRatio;if(l!==s){if(!g)return n();l?n(!1,l):o=setTimeout((()=>{n(!1,1e-7)}),1e3)}1!==l||at(c,e.getBoundingClientRect())||n(),g=!1}try{l=new IntersectionObserver(f,{...h,root:r.ownerDocument})}catch(e){l=new IntersectionObserver(f,h)}l.observe(e)}(!0),a}(c,o):null;let p,m=-1,h=null;n&&(h=new ResizeObserver((e=>{let[l]=e;l&&l.target===c&&h&&(h.unobserve(t),cancelAnimationFrame(m),m=requestAnimationFrame((()=>{var e;null==(e=h)||e.observe(t)}))),o()})),c&&!s&&h.observe(c),h.observe(t));let g=s?qe(e):null;return s&&function t(){const l=qe(e);g&&!at(g,l)&&o();g=l,p=requestAnimationFrame(t)}(),o(),()=>{var e;u.forEach((e=>{r&&e.removeEventListener("scroll",o),a&&e.removeEventListener("resize",o)})),null==d||d(),null==(e=h)||e.disconnect(),h=null,s&&cancelAnimationFrame(p)}}const it=function(e){return void 0===e&&(e=0),{name:"offset",options:e,async fn(t){var o,l;const{x:r,y:a,placement:n,middlewareData:i}=t,s=await async function(e,t){const{placement:o,platform:l,elements:r}=e,a=await(null==l.isRTL?void 0:l.isRTL(r.floating)),n=pe(o),i=me(o),s="y"===fe(o),c=["left","top"].includes(n)?-1:1,u=a&&s?-1:1,d=de(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:h}="number"==typeof d?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return i&&"number"==typeof h&&(m="end"===i?-1*h:h),s?{x:m*u,y:p*c}:{x:p*c,y:m*u}}(t,e);return n===(null==(o=i.offset)?void 0:o.placement)&&null!=(l=i.arrow)&&l.alignmentOffset?{}:{x:r+s.x,y:a+s.y,data:{...s,placement:n}}}}},st=function(e){return void 0===e&&(e={}),{name:"shift",options:e,async fn(t){const{x:o,y:l,placement:r}=t,{mainAxis:a=!0,crossAxis:n=!1,limiter:i={fn:e=>{let{x:t,y:o}=e;return{x:t,y:o}}},...s}=de(e,t),c={x:o,y:l},u=await Se(t,s),d=fe(pe(r)),p=he(d);let m=c[p],h=c[d];if(a){const e="y"===p?"bottom":"right";m=ue(m+u["y"===p?"top":"left"],m,m-u[e])}if(n){const e="y"===d?"bottom":"right";h=ue(h+u["y"===d?"top":"left"],h,h-u[e])}const g=i.fn({...t,[p]:m,[d]:h});return{...g,data:{x:g.x-o,y:g.y-l,enabled:{[p]:a,[d]:n}}}}}},ct=function(e){return void 0===e&&(e={}),{name:"flip",options:e,async fn(t){var o,l;const{placement:r,middlewareData:a,rects:n,initialPlacement:i,platform:s,elements:c}=t,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:h="none",flipAlignment:g=!0,...f}=de(e,t);if(null!=(o=a.arrow)&&o.alignmentOffset)return{};const b=pe(r),y=fe(i),v=pe(i)===i,E=await(null==s.isRTL?void 0:s.isRTL(c.floating)),w=p||(v||!g?[ve(i)]:function(e){const t=ve(e);return[ye(e),t,ye(t)]}(i)),T="none"!==h;!p&&T&&w.push(...function(e,t,o,l){const r=me(e);let a=function(e,t,o){const l=["left","right"],r=["right","left"],a=["top","bottom"],n=["bottom","top"];switch(e){case"top":case"bottom":return o?t?r:l:t?l:r;case"left":case"right":return t?a:n;default:return[]}}(pe(e),"start"===o,l);return r&&(a=a.map((e=>e+"-"+r)),t&&(a=a.concat(a.map(ye)))),a}(i,g,h,E));const S=[i,...w],C=await Se(t,f),x=[];let O=(null==(l=a.flip)?void 0:l.overflows)||[];if(u&&x.push(C[b]),d){const e=function(e,t,o){void 0===o&&(o=!1);const l=me(e),r=be(e),a=ge(r);let n="x"===r?l===(o?"end":"start")?"right":"left":"start"===l?"bottom":"top";return t.reference[a]>t.floating[a]&&(n=ve(n)),[n,ve(n)]}(r,n,E);x.push(C[e[0]],C[e[1]])}if(O=[...O,{placement:r,overflows:x}],!x.every((e=>e<=0))){var N,R;const e=((null==(N=a.flip)?void 0:N.index)||0)+1,t=S[e];if(t)return{data:{index:e,overflows:O},reset:{placement:t}};let o=null==(R=O.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:R.placement;if(!o)switch(m){case"bestFit":{var F;const e=null==(F=O.filter((e=>{if(T){const t=fe(e.placement);return t===y||"y"===t}return!0})).map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:F[0];e&&(o=e);break}case"initialPlacement":o=i}if(r!==o)return{reset:{placement:o}}}return{}}}},ut=e=>({name:"arrow",options:e,async fn(t){const{x:o,y:l,placement:r,rects:a,platform:n,elements:i,middlewareData:s}=t,{element:c,padding:u=0}=de(e,t)||{};if(null==c)return{};const d=Ee(u),p={x:o,y:l},m=be(r),h=ge(m),g=await n.getDimensions(c),f="y"===m,b=f?"top":"left",y=f?"bottom":"right",v=f?"clientHeight":"clientWidth",E=a.reference[h]+a.reference[m]-p[m]-a.floating[h],w=p[m]-a.reference[m],T=await(null==n.getOffsetParent?void 0:n.getOffsetParent(c));let S=T?T[v]:0;S&&await(null==n.isElement?void 0:n.isElement(T))||(S=i.floating[v]||a.floating[h]);const C=E/2-w/2,x=S/2-g[h]/2-1,O=le(d[b],x),N=le(d[y],x),R=O,F=S-g[h]-N,k=S/2-g[h]/2+C,A=ue(R,k,F),D=!s.arrow&&null!=me(r)&&k!==A&&a.reference[h]/2-(k<R?O:N)-g[h]/2<0,I=D?k<R?k-R:k-F:0;return{[m]:p[m]+I,data:{[m]:A,centerOffset:k-A-I,...D&&{alignmentOffset:I}},reset:D}}}),dt=(e,t,o)=>{const l=new Map,r={platform:rt,...o},a={...r.platform,_c:l};return(async(e,t,o)=>{const{placement:l="bottom",strategy:r="absolute",middleware:a=[],platform:n}=o,i=a.filter(Boolean),s=await(null==n.isRTL?void 0:n.isRTL(t));let c=await n.getElementRects({reference:e,floating:t,strategy:r}),{x:u,y:d}=Te(c,l,s),p=l,m={},h=0;for(let o=0;o<i.length;o++){const{name:a,fn:g}=i[o],{x:f,y:b,data:y,reset:v}=await g({x:u,y:d,initialPlacement:l,placement:p,strategy:r,middlewareData:m,rects:c,platform:n,elements:{reference:e,floating:t}});u=null!=f?f:u,d=null!=b?b:d,m={...m,[a]:{...m[a],...y}},v&&h<=50&&(h++,"object"==typeof v&&(v.placement&&(p=v.placement),v.rects&&(c=!0===v.rects?await n.getElementRects({reference:e,floating:t,strategy:r}):v.rects),({x:u,y:d}=Te(c,p,s))),o=-1)}return{x:u,y:d,placement:p,strategy:r,middlewareData:m}})(e,t,{...r,platform:a})};var pt=u(4452);const mt="react-tooltip-core-styles",ht="react-tooltip-base-styles",gt={core:!1,base:!1};function ft({css:e,id:t=ht,type:o="base",ref:l}){var r,a;if(!e||"undefined"==typeof document||gt[o])return;if("core"===o&&"undefined"!=typeof process&&(null===(r=null===process||void 0===process?void 0:process.env)||void 0===r?void 0:r.REACT_TOOLTIP_DISABLE_CORE_STYLES))return;if("base"!==o&&"undefined"!=typeof process&&(null===(a=null===process||void 0===process?void 0:process.env)||void 0===a?void 0:a.REACT_TOOLTIP_DISABLE_BASE_STYLES))return;"core"===o&&(t=mt),l||(l={});const{insertAt:n}=l;if(document.getElementById(t))return;const i=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.id=t,s.type="text/css","top"===n&&i.firstChild?i.insertBefore(s,i.firstChild):i.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e)),gt[o]=!0}const bt=async({elementReference:e=null,tooltipReference:t=null,tooltipArrowReference:o=null,place:l="top",offset:r=10,strategy:a="absolute",middlewares:n=[it(Number(r)),ct({fallbackAxisSideDirection:"start"}),st({padding:5})],border:i})=>{if(!e)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};if(null===t)return{tooltipStyles:{},tooltipArrowStyles:{},place:l};const s=n;return o?(s.push(ut({element:o,padding:5})),dt(e,t,{placement:l,strategy:a,middleware:s}).then((({x:e,y:t,placement:o,middlewareData:l})=>{var r,a;const n={left:`${e}px`,top:`${t}px`,border:i},{x:s,y:c}=null!==(r=l.arrow)&&void 0!==r?r:{x:0,y:0},u=null!==(a={top:"bottom",right:"left",bottom:"top",left:"right"}[o.split("-")[0]])&&void 0!==a?a:"bottom",d=i&&{borderBottom:i,borderRight:i};let p=0;if(i){const e=`${i}`.match(/(\d+)px/);p=(null==e?void 0:e[1])?Number(e[1]):1}return{tooltipStyles:n,tooltipArrowStyles:{left:null!=s?`${s}px`:"",top:null!=c?`${c}px`:"",right:"",bottom:"",...d,[u]:`-${4+p}px`},place:o}}))):dt(e,t,{placement:"bottom",strategy:a,middleware:s}).then((({x:e,y:t,placement:o})=>({tooltipStyles:{left:`${e}px`,top:`${t}px`},tooltipArrowStyles:{},place:o})))},yt=(e,t)=>!("CSS"in window&&"supports"in window.CSS)||window.CSS.supports(e,t),vt=(e,t,o)=>{let l=null;const r=function(...r){const a=()=>{l=null,o||e.apply(this,r)};o&&!l&&(e.apply(this,r),l=setTimeout(a,t)),o||(l&&clearTimeout(l),l=setTimeout(a,t))};return r.cancel=()=>{l&&(clearTimeout(l),l=null)},r},Et=e=>null!==e&&!Array.isArray(e)&&"object"==typeof e,wt=(e,t)=>{if(e===t)return!0;if(Array.isArray(e)&&Array.isArray(t))return e.length===t.length&&e.every(((e,o)=>wt(e,t[o])));if(Array.isArray(e)!==Array.isArray(t))return!1;if(!Et(e)||!Et(t))return e===t;const o=Object.keys(e),l=Object.keys(t);return o.length===l.length&&o.every((o=>wt(e[o],t[o])))},Tt=e=>{if(!(e instanceof HTMLElement||e instanceof SVGElement))return!1;const t=getComputedStyle(e);return["overflow","overflow-x","overflow-y"].some((e=>{const o=t.getPropertyValue(e);return"auto"===o||"scroll"===o}))},St=e=>{if(!e)return null;let t=e.parentElement;for(;t;){if(Tt(t))return t;t=t.parentElement}return document.scrollingElement||document.documentElement},Ct="undefined"!=typeof window?b.useLayoutEffect:b.useEffect,xt=e=>{e.current&&(clearTimeout(e.current),e.current=null)},Ot="DEFAULT_TOOLTIP_ID",Nt={anchorRefs:new Set,activeAnchor:{current:null},attach:()=>{},detach:()=>{},setActiveAnchor:()=>{}},Rt=(0,b.createContext)({getTooltipData:()=>Nt});function Ft(e=Ot){return(0,b.useContext)(Rt).getTooltipData(e)}var kt={tooltip:"core-styles-module_tooltip__3vRRp",fixed:"core-styles-module_fixed__pcSol",arrow:"core-styles-module_arrow__cvMwQ",noArrow:"core-styles-module_noArrow__xock6",clickable:"core-styles-module_clickable__ZuTTB",show:"core-styles-module_show__Nt9eE",closing:"core-styles-module_closing__sGnxF"},At={tooltip:"styles-module_tooltip__mnnfp",arrow:"styles-module_arrow__K0L3T",dark:"styles-module_dark__xNqje",light:"styles-module_light__Z6W-X",success:"styles-module_success__A2AKt",warning:"styles-module_warning__SCK0X",error:"styles-module_error__JvumD",info:"styles-module_info__BWdHW"};const Dt=({forwardRef:e,id:t,className:o,classNameArrow:l,variant:r="dark",anchorId:a,anchorSelect:n,place:i="top",offset:s=10,events:c=["hover"],openOnClick:u=!1,positionStrategy:d="absolute",middlewares:p,wrapper:m,delayShow:h=0,delayHide:g=0,float:f=!1,hidden:y=!1,noArrow:v=!1,clickable:E=!1,closeOnEsc:w=!1,closeOnScroll:T=!1,closeOnResize:S=!1,openEvents:C,closeEvents:x,globalCloseEvents:O,imperativeModeOnly:N,style:R,position:F,afterShow:k,afterHide:A,disableTooltip:D,content:I,contentWrapperRef:L,isOpen:$,defaultIsOpen:P=!1,setIsOpen:_,activeAnchor:M,setActiveAnchor:z,border:V,opacity:j,arrowColor:U,role:B="tooltip"})=>{var H;const G=(0,b.useRef)(null),Y=(0,b.useRef)(null),X=(0,b.useRef)(null),W=(0,b.useRef)(null),q=(0,b.useRef)(null),[Q,K]=(0,b.useState)({tooltipStyles:{},tooltipArrowStyles:{},place:i}),[J,Z]=(0,b.useState)(!1),[ee,te]=(0,b.useState)(!1),[oe,le]=(0,b.useState)(null),re=(0,b.useRef)(!1),ae=(0,b.useRef)(null),{anchorRefs:ne,setActiveAnchor:ie}=Ft(t),se=(0,b.useRef)(!1),[ce,ue]=(0,b.useState)([]),de=(0,b.useRef)(!1),pe=u||c.includes("click"),me=pe||(null==C?void 0:C.click)||(null==C?void 0:C.dblclick)||(null==C?void 0:C.mousedown),he=C?{...C}:{mouseover:!0,focus:!0,mouseenter:!1,click:!1,dblclick:!1,mousedown:!1};!C&&pe&&Object.assign(he,{mouseenter:!1,focus:!1,mouseover:!1,click:!0});const ge=x?{...x}:{mouseout:!0,blur:!0,mouseleave:!1,click:!1,dblclick:!1,mouseup:!1};!x&&pe&&Object.assign(ge,{mouseleave:!1,blur:!1,mouseout:!1});const fe=O?{...O}:{escape:w||!1,scroll:T||!1,resize:S||!1,clickOutsideAnchor:me||!1};N&&(Object.assign(he,{mouseenter:!1,focus:!1,click:!1,dblclick:!1,mousedown:!1}),Object.assign(ge,{mouseleave:!1,blur:!1,click:!1,dblclick:!1,mouseup:!1}),Object.assign(fe,{escape:!1,scroll:!1,resize:!1,clickOutsideAnchor:!1})),Ct((()=>(de.current=!0,()=>{de.current=!1})),[]);const be=e=>{de.current&&(e&&te(!0),setTimeout((()=>{de.current&&(null==_||_(e),void 0===$&&Z(e))}),10))};(0,b.useEffect)((()=>{if(void 0===$)return()=>null;$&&te(!0);const e=setTimeout((()=>{Z($)}),10);return()=>{clearTimeout(e)}}),[$]),(0,b.useEffect)((()=>{if(J!==re.current)if(xt(q),re.current=J,J)null==k||k();else{const e=(()=>{const e=getComputedStyle(document.body).getPropertyValue("--rt-transition-show-delay").match(/^([\d.]+)(ms|s)$/);if(!e)return 0;const[,t,o]=e;return Number(t)*("ms"===o?1:1e3)})();q.current=setTimeout((()=>{te(!1),le(null),null==A||A()}),e+25)}}),[J]);const ye=e=>{K((t=>wt(t,e)?t:e))},ve=(e=h)=>{xt(X),ee?be(!0):X.current=setTimeout((()=>{be(!0)}),e)},Ee=(e=g)=>{xt(W),W.current=setTimeout((()=>{se.current||be(!1)}),e)},we=e=>{var t;if(!e)return;const o=null!==(t=e.currentTarget)&&void 0!==t?t:e.target;if(!(null==o?void 0:o.isConnected))return z(null),void ie({current:null});h?ve():be(!0),z(o),ie({current:o}),xt(W)},Te=()=>{E?Ee(g||100):g?Ee():be(!1),xt(X)},Se=({x:e,y:t})=>{var o;const l={getBoundingClientRect:()=>({x:e,y:t,width:0,height:0,top:t,left:e,right:e,bottom:t})};bt({place:null!==(o=null==oe?void 0:oe.place)&&void 0!==o?o:i,offset:s,elementReference:l,tooltipReference:G.current,tooltipArrowReference:Y.current,strategy:d,middlewares:p,border:V}).then((e=>{ye(e)}))},Ce=e=>{if(!e)return;const t=e,o={x:t.clientX,y:t.clientY};Se(o),ae.current=o},xe=e=>{var t;if(!J)return;const o=e.target;o.isConnected&&((null===(t=G.current)||void 0===t?void 0:t.contains(o))||[document.querySelector(`[id='${a}']`),...ce].some((e=>null==e?void 0:e.contains(o)))||(be(!1),xt(X)))},Oe=vt(we,50,!0),Ne=vt(Te,50,!0),Re=e=>{Ne.cancel(),Oe(e)},Fe=()=>{Oe.cancel(),Ne()},ke=(0,b.useCallback)((()=>{var e,t;const o=null!==(e=null==oe?void 0:oe.position)&&void 0!==e?e:F;o?Se(o):f?ae.current&&Se(ae.current):(null==M?void 0:M.isConnected)&&bt({place:null!==(t=null==oe?void 0:oe.place)&&void 0!==t?t:i,offset:s,elementReference:M,tooltipReference:G.current,tooltipArrowReference:Y.current,strategy:d,middlewares:p,border:V}).then((e=>{de.current&&ye(e)}))}),[J,M,I,R,i,null==oe?void 0:oe.place,s,d,F,null==oe?void 0:oe.position,f]);(0,b.useEffect)((()=>{var e,t;const o=new Set(ne);ce.forEach((e=>{(null==D?void 0:D(e))||o.add({current:e})}));const l=document.querySelector(`[id='${a}']`);l&&!(null==D?void 0:D(l))&&o.add({current:l});const r=()=>{be(!1)},n=St(M),i=St(G.current);fe.scroll&&(window.addEventListener("scroll",r),null==n||n.addEventListener("scroll",r),null==i||i.addEventListener("scroll",r));let s=null;fe.resize?window.addEventListener("resize",r):M&&G.current&&(s=nt(M,G.current,ke,{ancestorResize:!0,elementResize:!0,layoutShift:!0}));const c=e=>{"Escape"===e.key&&be(!1)};fe.escape&&window.addEventListener("keydown",c),fe.clickOutsideAnchor&&window.addEventListener("click",xe);const u=[],d=e=>{J&&(null==e?void 0:e.target)===M||we(e)},p=e=>{J&&(null==e?void 0:e.target)===M&&Te()},m=["mouseover","mouseout","mouseenter","mouseleave","focus","blur"],h=["click","dblclick","mousedown","mouseup"];Object.entries(he).forEach((([e,t])=>{t&&(m.includes(e)?u.push({event:e,listener:Re}):h.includes(e)&&u.push({event:e,listener:d}))})),Object.entries(ge).forEach((([e,t])=>{t&&(m.includes(e)?u.push({event:e,listener:Fe}):h.includes(e)&&u.push({event:e,listener:p}))})),f&&u.push({event:"pointermove",listener:Ce});const g=()=>{se.current=!0},b=()=>{se.current=!1,Te()};return E&&!me&&(null===(e=G.current)||void 0===e||e.addEventListener("mouseenter",g),null===(t=G.current)||void 0===t||t.addEventListener("mouseleave",b)),u.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.addEventListener(e,t)}))})),()=>{var e,t;fe.scroll&&(window.removeEventListener("scroll",r),null==n||n.removeEventListener("scroll",r),null==i||i.removeEventListener("scroll",r)),fe.resize?window.removeEventListener("resize",r):null==s||s(),fe.clickOutsideAnchor&&window.removeEventListener("click",xe),fe.escape&&window.removeEventListener("keydown",c),E&&!me&&(null===(e=G.current)||void 0===e||e.removeEventListener("mouseenter",g),null===(t=G.current)||void 0===t||t.removeEventListener("mouseleave",b)),u.forEach((({event:e,listener:t})=>{o.forEach((o=>{var l;null===(l=o.current)||void 0===l||l.removeEventListener(e,t)}))}))}}),[M,ke,ee,ne,ce,C,x,O,pe,h,g]),(0,b.useEffect)((()=>{var e,o;let l=null!==(o=null!==(e=null==oe?void 0:oe.anchorSelect)&&void 0!==e?e:n)&&void 0!==o?o:"";!l&&t&&(l=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`);const r=new MutationObserver((e=>{const o=[],r=[];e.forEach((e=>{if("attributes"===e.type&&"data-tooltip-id"===e.attributeName&&(e.target.getAttribute("data-tooltip-id")===t?o.push(e.target):e.oldValue===t&&r.push(e.target)),"childList"===e.type){if(M){const t=[...e.removedNodes].filter((e=>1===e.nodeType));if(l)try{r.push(...t.filter((e=>e.matches(l)))),r.push(...t.flatMap((e=>[...e.querySelectorAll(l)])))}catch(e){}t.some((e=>{var t;return!!(null===(t=null==e?void 0:e.contains)||void 0===t?void 0:t.call(e,M))&&(te(!1),be(!1),z(null),xt(X),xt(W),!0)}))}if(l)try{const t=[...e.addedNodes].filter((e=>1===e.nodeType));o.push(...t.filter((e=>e.matches(l)))),o.push(...t.flatMap((e=>[...e.querySelectorAll(l)])))}catch(e){}}})),(o.length||r.length)&&ue((e=>[...e.filter((e=>!r.includes(e))),...o]))}));return r.observe(document.body,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["data-tooltip-id"],attributeOldValue:!0}),()=>{r.disconnect()}}),[t,n,null==oe?void 0:oe.anchorSelect,M]),(0,b.useEffect)((()=>{ke()}),[ke]),(0,b.useEffect)((()=>{if(!(null==L?void 0:L.current))return()=>null;const e=new ResizeObserver((()=>{setTimeout((()=>ke()))}));return e.observe(L.current),()=>{e.disconnect()}}),[I,null==L?void 0:L.current]),(0,b.useEffect)((()=>{var e;const t=document.querySelector(`[id='${a}']`),o=[...ce,t];M&&o.includes(M)||z(null!==(e=ce[0])&&void 0!==e?e:t)}),[a,ce,M]),(0,b.useEffect)((()=>(P&&be(!0),()=>{xt(X),xt(W)})),[]),(0,b.useEffect)((()=>{var e;let o=null!==(e=null==oe?void 0:oe.anchorSelect)&&void 0!==e?e:n;if(!o&&t&&(o=`[data-tooltip-id='${t.replace(/'/g,"\\'")}']`),o)try{const e=Array.from(document.querySelectorAll(o));ue(e)}catch(e){ue([])}}),[t,n,null==oe?void 0:oe.anchorSelect]),(0,b.useEffect)((()=>{X.current&&(xt(X),ve(h))}),[h]);const Ae=null!==(H=null==oe?void 0:oe.content)&&void 0!==H?H:I,De=J&&Object.keys(Q.tooltipStyles).length>0;return(0,b.useImperativeHandle)(e,(()=>({open:e=>{if(null==e?void 0:e.anchorSelect)try{document.querySelector(e.anchorSelect)}catch(t){return void console.warn(`[react-tooltip] "${e.anchorSelect}" is not a valid CSS selector`)}le(null!=e?e:null),(null==e?void 0:e.delay)?ve(e.delay):be(!0)},close:e=>{(null==e?void 0:e.delay)?Ee(e.delay):be(!1)},activeAnchor:M,place:Q.place,isOpen:Boolean(ee&&!y&&Ae&&De)}))),ee&&!y&&Ae?b.createElement(m,{id:t,role:B,className:pt("react-tooltip",kt.tooltip,At.tooltip,At[r],o,`react-tooltip__place-${Q.place}`,kt[De?"show":"closing"],De?"react-tooltip__show":"react-tooltip__closing","fixed"===d&&kt.fixed,E&&kt.clickable),onTransitionEnd:e=>{xt(q),J||"opacity"!==e.propertyName||(te(!1),le(null),null==A||A())},style:{...R,...Q.tooltipStyles,opacity:void 0!==j&&De?j:void 0},ref:G},Ae,b.createElement(m,{className:pt("react-tooltip-arrow",kt.arrow,At.arrow,l,v&&kt.noArrow),style:{...Q.tooltipArrowStyles,background:U?`linear-gradient(to right bottom, transparent 50%, ${U} 50%)`:void 0},ref:Y})):null},It=({content:e})=>b.createElement("span",{dangerouslySetInnerHTML:{__html:e}}),Lt=b.forwardRef((({id:e,anchorId:t,anchorSelect:o,content:l,html:r,render:a,className:n,classNameArrow:i,variant:s="dark",place:c="top",offset:u=10,wrapper:d="div",children:p=null,events:m=["hover"],openOnClick:h=!1,positionStrategy:g="absolute",middlewares:f,delayShow:y=0,delayHide:v=0,float:E=!1,hidden:w=!1,noArrow:T=!1,clickable:S=!1,closeOnEsc:C=!1,closeOnScroll:x=!1,closeOnResize:O=!1,openEvents:N,closeEvents:R,globalCloseEvents:F,imperativeModeOnly:k=!1,style:A,position:D,isOpen:I,defaultIsOpen:L=!1,disableStyleInjection:$=!1,border:P,opacity:_,arrowColor:M,setIsOpen:z,afterShow:V,afterHide:j,disableTooltip:U,role:B="tooltip"},H)=>{const[G,Y]=(0,b.useState)(l),[X,W]=(0,b.useState)(r),[q,Q]=(0,b.useState)(c),[K,J]=(0,b.useState)(s),[Z,ee]=(0,b.useState)(u),[te,oe]=(0,b.useState)(y),[le,re]=(0,b.useState)(v),[ae,ne]=(0,b.useState)(E),[ie,se]=(0,b.useState)(w),[ce,ue]=(0,b.useState)(d),[de,pe]=(0,b.useState)(m),[me,he]=(0,b.useState)(g),[ge,fe]=(0,b.useState)(null),[be,ye]=(0,b.useState)(null),ve=(0,b.useRef)($),{anchorRefs:Ee,activeAnchor:we}=Ft(e),Te=e=>null==e?void 0:e.getAttributeNames().reduce(((t,o)=>{var l;return o.startsWith("data-tooltip-")&&(t[o.replace(/^data-tooltip-/,"")]=null!==(l=null==e?void 0:e.getAttribute(o))&&void 0!==l?l:null),t}),{}),Se=e=>{const t={place:e=>{var t;Q(null!==(t=e)&&void 0!==t?t:c)},content:e=>{Y(null!=e?e:l)},html:e=>{W(null!=e?e:r)},variant:e=>{var t;J(null!==(t=e)&&void 0!==t?t:s)},offset:e=>{ee(null===e?u:Number(e))},wrapper:e=>{var t;ue(null!==(t=e)&&void 0!==t?t:d)},events:e=>{const t=null==e?void 0:e.split(" ");pe(null!=t?t:m)},"position-strategy":e=>{var t;he(null!==(t=e)&&void 0!==t?t:g)},"delay-show":e=>{oe(null===e?y:Number(e))},"delay-hide":e=>{re(null===e?v:Number(e))},float:e=>{ne(null===e?E:"true"===e)},hidden:e=>{se(null===e?w:"true"===e)},"class-name":e=>{fe(e)}};Object.values(t).forEach((e=>e(null))),Object.entries(e).forEach((([e,o])=>{var l;null===(l=t[e])||void 0===l||l.call(t,o)}))};(0,b.useEffect)((()=>{Y(l)}),[l]),(0,b.useEffect)((()=>{W(r)}),[r]),(0,b.useEffect)((()=>{Q(c)}),[c]),(0,b.useEffect)((()=>{J(s)}),[s]),(0,b.useEffect)((()=>{ee(u)}),[u]),(0,b.useEffect)((()=>{oe(y)}),[y]),(0,b.useEffect)((()=>{re(v)}),[v]),(0,b.useEffect)((()=>{ne(E)}),[E]),(0,b.useEffect)((()=>{se(w)}),[w]),(0,b.useEffect)((()=>{he(g)}),[g]),(0,b.useEffect)((()=>{ve.current!==$&&console.warn("[react-tooltip] Do not change `disableStyleInjection` dynamically.")}),[$]),(0,b.useEffect)((()=>{"undefined"!=typeof window&&window.dispatchEvent(new CustomEvent("react-tooltip-inject-styles",{detail:{disableCore:"core"===$,disableBase:$}}))}),[]),(0,b.useEffect)((()=>{var l;const r=new Set(Ee);let a=o;if(!a&&e&&(a=`[data-tooltip-id='${e.replace(/'/g,"\\'")}']`),a)try{document.querySelectorAll(a).forEach((e=>{r.add({current:e})}))}catch(l){console.warn(`[react-tooltip] "${a}" is not a valid CSS selector`)}const n=document.querySelector(`[id='${t}']`);if(n&&r.add({current:n}),!r.size)return()=>null;const i=null!==(l=null!=be?be:n)&&void 0!==l?l:we.current,s=new MutationObserver((e=>{e.forEach((e=>{var t;if(!i||"attributes"!==e.type||!(null===(t=e.attributeName)||void 0===t?void 0:t.startsWith("data-tooltip-")))return;const o=Te(i);Se(o)}))})),c={attributes:!0,childList:!1,subtree:!1};if(i){const e=Te(i);Se(e),s.observe(i,c)}return()=>{s.disconnect()}}),[Ee,we,be,t,o]),(0,b.useEffect)((()=>{(null==A?void 0:A.border)&&console.warn("[react-tooltip] Do not set `style.border`. Use `border` prop instead."),P&&!yt("border",`${P}`)&&console.warn(`[react-tooltip] "${P}" is not a valid \`border\`.`),(null==A?void 0:A.opacity)&&console.warn("[react-tooltip] Do not set `style.opacity`. Use `opacity` prop instead."),_&&!yt("opacity",`${_}`)&&console.warn(`[react-tooltip] "${_}" is not a valid \`opacity\`.`)}),[]);let Ce=p;const xe=(0,b.useRef)(null);if(a){const e=a({content:(null==be?void 0:be.getAttribute("data-tooltip-content"))||G||null,activeAnchor:be});Ce=e?b.createElement("div",{ref:xe,className:"react-tooltip-content-wrapper"},e):null}else G&&(Ce=G);X&&(Ce=b.createElement(It,{content:X}));const Oe={forwardRef:H,id:e,anchorId:t,anchorSelect:o,className:pt(n,ge),classNameArrow:i,content:Ce,contentWrapperRef:xe,place:q,variant:K,offset:Z,wrapper:ce,events:de,openOnClick:h,positionStrategy:me,middlewares:f,delayShow:te,delayHide:le,float:ae,hidden:ie,noArrow:T,clickable:S,closeOnEsc:C,closeOnScroll:x,closeOnResize:O,openEvents:N,closeEvents:R,globalCloseEvents:F,imperativeModeOnly:k,style:A,position:D,isOpen:I,defaultIsOpen:L,border:P,opacity:_,arrowColor:M,setIsOpen:z,afterShow:V,afterHide:j,disableTooltip:U,activeAnchor:be,setActiveAnchor:e=>ye(e),role:B};return b.createElement(Dt,{...Oe})}));"undefined"!=typeof window&&window.addEventListener("react-tooltip-inject-styles",(e=>{e.detail.disableCore||ft({css:":root{--rt-color-white:#fff;--rt-color-dark:#222;--rt-color-success:#8dc572;--rt-color-error:#be6464;--rt-color-warning:#f0ad4e;--rt-color-info:#337ab7;--rt-opacity:0.9;--rt-transition-show-delay:0.15s;--rt-transition-closing-delay:0.15s}.core-styles-module_tooltip__3vRRp{position:absolute;top:0;left:0;pointer-events:none;opacity:0;will-change:opacity}.core-styles-module_fixed__pcSol{position:fixed}.core-styles-module_arrow__cvMwQ{position:absolute;background:inherit}.core-styles-module_noArrow__xock6{display:none}.core-styles-module_clickable__ZuTTB{pointer-events:auto}.core-styles-module_show__Nt9eE{opacity:var(--rt-opacity);transition:opacity var(--rt-transition-show-delay)ease-out}.core-styles-module_closing__sGnxF{opacity:0;transition:opacity var(--rt-transition-closing-delay)ease-in}",type:"core"}),e.detail.disableBase||ft({css:"\n.styles-module_tooltip__mnnfp{padding:8px 16px;border-radius:3px;font-size:90%;width:max-content}.styles-module_arrow__K0L3T{width:8px;height:8px}[class*='react-tooltip__place-top']>.styles-module_arrow__K0L3T{transform:rotate(45deg)}[class*='react-tooltip__place-right']>.styles-module_arrow__K0L3T{transform:rotate(135deg)}[class*='react-tooltip__place-bottom']>.styles-module_arrow__K0L3T{transform:rotate(225deg)}[class*='react-tooltip__place-left']>.styles-module_arrow__K0L3T{transform:rotate(315deg)}.styles-module_dark__xNqje{background:var(--rt-color-dark);color:var(--rt-color-white)}.styles-module_light__Z6W-X{background-color:var(--rt-color-white);color:var(--rt-color-dark)}.styles-module_success__A2AKt{background-color:var(--rt-color-success);color:var(--rt-color-white)}.styles-module_warning__SCK0X{background-color:var(--rt-color-warning);color:var(--rt-color-white)}.styles-module_error__JvumD{background-color:var(--rt-color-error);color:var(--rt-color-white)}.styles-module_info__BWdHW{background-color:var(--rt-color-info);color:var(--rt-color-white)}",type:"base"})}));const $t=e=>{const t=new D(255,255,255),o=(e=>{const t=[],o=new D(255,255,255);for(let l=0;l<e.length;l++){const r=new D(0,0,0);let a=e[l].color;a.startsWith("rgba")&&(a=D.RGBAToHex(a)),r.fromHex(a);const n=r.Mul(o,.7);t.push({start:r.asHex(),end:n.asHex()})}return t})(e.data),l=$,r=l.Mul(t,.7),a=_,n=a.Mul(t,.7),i=z,s=i.Mul(t,.7),c=e.gradientId;return y().createElement(y().Fragment,null,y().createElement("defs",null,o.map(((e,t)=>y().createElement("linearGradient",{key:t,id:c+"_linear_gradient_state_data_"+t,x1:"30%",y1:"30%",x2:"70%",y2:"70%"},y().createElement("stop",{offset:"0%",stopColor:e.start}),y().createElement("stop",{offset:"100%",stopColor:e.end})))),y().createElement("linearGradient",{id:c+"_linear_gradient_state_ok",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},y().createElement("stop",{offset:"0%",stopColor:l.asHex()}),y().createElement("stop",{offset:"100%",stopColor:r.asHex()})),y().createElement("linearGradient",{id:c+"_linear_gradient_state_warning",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},y().createElement("stop",{offset:"0%",stopColor:a.asHex()}),y().createElement("stop",{offset:"100%",stopColor:n.asHex()})),y().createElement("linearGradient",{id:c+"_linear_gradient-state_critical",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},y().createElement("stop",{offset:"0%",stopColor:i.asHex()}),y().createElement("stop",{offset:"100%",stopColor:s.asHex()})),y().createElement("linearGradient",{id:c+"_linear_gradient_state_unknown",x1:"30%",y1:"30%",x2:"70%",y2:"70%"},y().createElement("stop",{offset:"0%",stopColor:"#73808A"}),y().createElement("stop",{offset:"100%",stopColor:"#73808A"}))))};function Pt(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class _t{setRadius(e){this.radius=e}setHeight(e){this.height=e}setWidth(e){this.width=e}generateHexagonPointedTopLayout(){return this.radius=this.getHexFlatTopRadius(),{}}generateUniformLayout(){return this.radius=this.getUniformRadius(),{}}getHexFlatTopRadius(){let e=J.min([this.width/((this.numColumns+.5)*this.SQRT3),this.height/(1.5*(this.numRows+1/3))]);return void 0!==e?(e-=0,this.truncateFloat(e)):40}getHexFlatTopDiameters(){const e=this.getHexFlatTopRadius();return{diameterX:this.truncateFloat(e*this.SQRT3),diameterY:this.truncateFloat(2*e)}}getUniformDiameters(){const e=this.getUniformRadius();return{diameterX:2*e,diameterY:2*e}}getUniformRadius(){const e=this.width/this.maxColumnsUsed*.5,t=this.height/this.maxRowsUsed*.5;let o=e;return o>t&&(o=t),o-=0,this.truncateFloat(o)}generatePossibleColumnAndRowsSizes(e,t,o){if(t&&e){const e=Math.sqrt(o);this.width>this.height?(this.numColumns=Math.ceil(this.width/this.height*e*.75),this.numColumns<1?this.numColumns=1:this.numColumns>o&&(this.numColumns=o),this.numRows=Math.ceil(o/this.numColumns),this.numRows<1&&(this.numRows=1)):(this.numRows=Math.ceil(this.height/this.width*e*.75),this.numRows<1?this.numRows=1:this.numRows>o&&(this.numRows=o),this.numColumns=Math.ceil(o/this.numRows),this.numColumns<1&&(this.numColumns=1))}else t?(this.numRows=Math.ceil(o/this.numColumns),this.numRows<1&&(this.numRows=1)):e&&(this.numColumns=Math.ceil(o/this.numRows),this.numColumns<1&&(this.numColumns=1))}generateActualColumnAndRowUsage(e,t){let o=0,l=0,r=0,a=0;for(let n=0;n<this.numRows;n++)if((!t||o<t)&&o<e.length){l+=1,r=0;for(let l=0;l<this.numColumns;l++)(!t||o<t)&&o<e.length&&(r+=1,r>a&&(a=r),o++)}this.maxRowsUsed=l,this.maxColumnsUsed=a}shapeToCoordinates(e,t,o,r){switch(e){case l.HEXAGON_POINTED_TOP:let e=t*o*this.SQRT3;r%2==1&&(e+=t*this.SQRT3/2);return[e,t*r*1.5];case l.CIRCLE:case l.SQUARE:return[t*o*2,t*r*2];default:return[t*o*1.75,t*r*1.5]}}generatePoints(e,t,o){const l=[];if(void 0===e)return l;let r=0,a=0,n=0;if(this.numRows===1/0)return l;if(isNaN(this.numColumns))return l;for(let i=0;i<this.numRows;i++)if((!t||l.length<t)&&l.length<e.length){r+=1,a=0;for(let r=0;r<this.numColumns;r++)if((!t||l.length<t)&&l.length<e.length){a+=1,a>n&&(n=a);let e=this.shapeToCoordinates(o,this.radius,r,i);const t={x:e[0],y:e[1]};l.push(t)}}return this.maxRowsUsed=r,this.maxColumnsUsed=n,l}generateUniformPoints(e,t){const o=[];if(void 0===e)return o;let l=0,r=0,a=0,n=1,i=1;if(this.numRows===1/0)return o;if(isNaN(this.numColumns))return o;for(let s=0;s<this.numRows;s++)if((!t||o.length<t)&&o.length<e.length){l+=1,r=0;for(let l=0;l<this.numColumns;l++)(!t||o.length<t)&&o.length<e.length&&(r+=1,r>a&&(a=r),o.push({x:n,y:i,width:2*this.radius,height:2*this.radius}),n+=2*this.radius);n=1,i+=2*this.radius}return this.maxRowsUsed=l,this.maxColumnsUsed=a,o}generateRadius(e){if(!this.autoSize)return this.radius;let t=0;switch(e){case l.HEXAGON_POINTED_TOP:t=this.getHexFlatTopRadius();break;case l.CIRCLE:case l.SQUARE:t=this.getUniformRadius();break;default:t=this.getHexFlatTopRadius()}return this.radius=t,t}truncateFloat(e){if(e===1/0||isNaN(e))return 0;const t=e.toString().match(/^-?\d+(?:\.\d{0,2})?/);return null!==t&&t.length>0?Number(t[0]):0}getOffsets(e,t){switch(e){case l.HEXAGON_POINTED_TOP:return this.getOffsetsHexagonPointedTop(t);case l.SQUARE:return this.getOffsetsSquare(t);case l.CIRCLE:default:return this.getOffsetsUniform(t)}}getOffsetsHexagonPointedTop(e){let t=J.min([this.width/((this.numColumns+.5)*this.SQRT3),this.height/(1.5*(this.numRows+1/3))]);t=this.truncateFloat(t);const o=this.truncateFloat(t*this.SQRT3),l=this.truncateFloat(2*t),r=.5*l,{oddCount:a,evenCount:n}=this.getOddEvenCountForRange(1,this.maxRowsUsed),i=a*l+n*l*.5;let s=(this.height-i)/2;s=-(s+r);const c=.5*o;let u=0;this.numRows>1&&e>=2*this.maxColumnsUsed&&(u=.5);const d=(this.numColumns+u)*o;let p=(this.width-d)/2;return p=-(p+c),{xoffset:p,yoffset:s}}getOffsetsUniform(e){const{diameterX:t,diameterY:o}=this.getDiameters(),l=this.truncateFloat(t),r=this.truncateFloat(o),a=.5*r,n=this.maxRowsUsed*r;let i=(this.height-n)/2;i=-(i+a);const s=.5*l,c=this.numColumns*l;let u=(this.width-c)/2;return u=-(u+s),{xoffset:u,yoffset:i}}getOffsetsSquare(e){const{diameterX:t,diameterY:o}=this.getDiameters(),l=this.truncateFloat(t),r=this.truncateFloat(o),a=this.maxRowsUsed*r;let n=(this.height-a)/2;n=-(n+0);const i=this.numColumns*l;let s=(this.width-i)/2;return s=-(s+0),{xoffset:s,yoffset:n}}getOddEvenCountForRange(e,t){let o=(t-e)/2;t%2==0&&e%2==0||o++;return{oddCount:o,evenCount:t-e+1-o}}getDiameters(){switch(this.shape){case l.HEXAGON_POINTED_TOP:return this.getHexFlatTopDiameters();case l.SQUARE:case l.CIRCLE:default:return this.getUniformDiameters()}}constructor(e,t,o,l,r,a,n){Pt(this,"width",void 0),Pt(this,"height",void 0),Pt(this,"numColumns",void 0),Pt(this,"numRows",void 0),Pt(this,"radius",void 0),Pt(this,"autoSize",void 0),Pt(this,"maxRowsUsed",void 0),Pt(this,"maxColumnsUsed",void 0),Pt(this,"displayLimit",void 0),Pt(this,"shape",void 0),Pt(this,"SQRT3",1.7320508075688772),this.width=e,this.height=t,o<1||isNaN(o)?this.numColumns=8:this.numColumns=o,l<1||isNaN(l)?this.numRows=8:this.numRows=l,this.maxColumnsUsed=0,this.maxRowsUsed=0,r<0||isNaN(r)?this.displayLimit=100:this.displayLimit=r,this.shape=n,this.radius=0,this.autoSize=a}}const Mt=e=>N.css`
  font-size: ${e.typography.h1.fontSize};
  text-align: center;
  justify-content: center;
  color: ${e.colors.error.shade};
`,zt=e=>N.css`
  font-size: ${e.typography.h1.fontSize};
  text-align: center;
  justify-content: center;
  color: ${e.colors.success.shade};
`,Vt=e=>N.css`
  fill: transparent;
  display: flex;
  align-items: center;
  text-align: center;
  justify-content: center;
`,jt=e=>N.css`
  text-align: center;
  align-items: center;
  justify-content: center;
  fill: transparent;
`,Ut=e=>N.css`
  outline: none !important;
`,Bt=({data:e,renderTime:t,showTime:l,valueEnabled:r,tooltipColumnHeadersEnabled:a,primarySortByField:i,primarySortDirection:s,secondarySortByField:c,secondarySortDirection:u,displayMode:d,tooltipDisplayTextTriggeredEmpty:p,tooltipFontFamily:m})=>{const h=(0,v.useStyles2)(Ht);(null==e?void 0:e.timestamp)&&(t=new Date(null==e?void 0:e.timestamp));const g=e=>{let t=e;if(t&&e&&"triggered"===d&&(t=(e=>{const t=(e=>{let t=0;0!==e.thresholdLevel&&t++;for(let o=0;o<e.members.length;o++)0!==e.members[o].thresholdLevel&&t++;return t})(e),o=Object.assign({},e);if(o.members=[],t>0){for(let t=0;t<e.members.length;t++)0!==e.members[t].thresholdLevel&&o.members.push(e.members[t]);return o}return null})(e)),null===t)return y().createElement(y().Fragment,null,p);const o=((e,t,o,l,r)=>{let a=Gt(n[t].value);const i=a.lowerCase,s=a.direction;a=Gt(n[l].value);const c=a.direction,u=a.lowerCase;let d=o;i&&(d=e=>{let t=e[o];return"number"!=typeof t&&(t=t.toLowerCase()),t});let p=r;return u&&(p=e=>{let t=e[r];return"number"!=typeof t&&(t=t.toLowerCase()),t}),(0,E.orderBy)(e.members,[d,p],[s,c])})(t,s,i,u,c);return o.map(((e,t)=>y().createElement("tr",{key:t,style:{color:e.color}},y().createElement("td",{className:h.tooltipName},e.displayName),r&&y().createElement("td",{className:h.tooltipValue},e.valueFormatted))))};return y().createElement("table",{style:{fontFamily:m},className:h.tooltipTable},y().createElement("thead",null,e&&e.isComposite&&(e=>e&&e.members&&0===e.members.length?"":y().createElement("tr",null,y().createElement("th",{className:h.tooltipCompositeHeading,colSpan:2},null==e?void 0:e.displayName)))(e),y().createElement("tr",null,a&&y().createElement("th",{className:h.tooltipNameHeading},"Name"),a&&r&&y().createElement("th",{className:h.tooltipValueHeading},"Value"))),y().createElement("tfoot",null,l&&y().createElement("tr",null,y().createElement("td",{className:h.tooltipTime,colSpan:2},(0,o.dateTimeFormatWithAbbrevation)(t)))),y().createElement("tbody",null,e&&e.isComposite?g(e):y().createElement("tr",{style:{color:null==e?void 0:e.color}},y().createElement("td",{className:h.tooltipName},null==e?void 0:e.displayName),r&&y().createElement("td",{className:h.tooltipValue},null==e?void 0:e.valueFormatted))))},Ht=e=>({root:N.css`
      border-radius: ${e.shape.borderRadius(1)};
      background-color: ${e.colors.background.primary};
      box-shadow: ${e.shadows.z2};
      padding: ${e.spacing(1)};
    `,tooltipTable:N.css`
      width: 100%;
      color: ${e.colors.text.primary};
      height: auto;
      padding: 10px;
    `,tooltipTime:N.css`
      text-align: center;
      color: ${e.colors.text.primary};
    `,tooltipNameHeading:N.css`
      text-align: left;
      color: ${e.colors.text.primary};
    `,tooltipValueHeading:N.css`
      text-align: right;
      color: ${e.colors.text.primary};
    `,tooltipCompositeHeading:N.css`
      text-align: center;
      color: ${e.colors.text.primary};
    `,tooltipName:N.css`
      text-align: left;
    `,tooltipValue:N.css`
      text-align: right;
      padding-left: 15px;
    `}),Gt=e=>{switch(e){case 0:return{direction:null,lowerCase:!1};case 1:case 3:default:return{direction:"asc",lowerCase:!1};case 2:case 4:return{direction:"desc",lowerCase:!1};case 5:return{direction:"asc",lowerCase:!0};case 6:return{direction:"desc",lowerCase:!0}}};function Yt(e,t){if((0,E.isNumber)(t))return{decimals:t,scaledDecimals:null};const o=e/2;let l=-Math.floor(Math.log(o)/Math.LN10);const r=Math.pow(10,-l),a=o/r;let n;a<1.5?n=1:a<3?(n=2,a>2.25&&(n=2.5,++l)):n=a<7.5?5:10,n*=r,Math.floor(e)===e&&(l=0);const i={decimals:0,scaledDecimals:0};return i.decimals=Math.max(0,l),i.scaledDecimals=i.decimals-Math.floor(Math.log(n)/Math.LN10)+2,i}function Xt(e,t){const o=document.createElement("canvas").getContext("2d");if(o){o.font=t;return o.measureText(e).width}return 40}function Wt(e,t,o){if(0===o)return e;const l=o%2==0;switch(Math.ceil(o/2)){case 1:e=(0,E.sortBy)(e,t);break;case 2:e=(0,E.sortBy)(e,(e=>{if(isNaN(e[t])){const o=e[t].match(/.*?(\d+).*/);return!o||o.length<2?-1:parseInt(o[1],10)}return function(e){return isNaN(e)?e:Number(e)}(e[t])}));break;case 3:e=(0,E.sortBy)(e,(e=>{const o=e[t];return isNaN(o)?(0,E.toLower)(e[t]):o}));break;case 4:const o=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});(e=e.slice()).sort(((e,l)=>o.compare(e[t],l[t])))}return l&&(e=e.reverse()),e}const qt=(e,t)=>{if(null===e)return null;const o=Math.pow(10,t),l=(o*e).toFixed(t);return Math.round(parseFloat(l))/o},Qt=e=>{let t="";for(let o=0;o<e.length;o++){let l=e[o].name;""!==e[o].displayName&&(l=e[o].displayName),l.length>t.length&&(t=l)}return t},Kt=e=>{let t="",o="";for(let l=0;l<e.length;l++){e[l].valueFormatted.length>t.length&&(t=e[l].valueFormatted),e[l].timestampFormatted.length>o.length&&(o=e[l].timestampFormatted);const r=e[l].members.length;if(r>0){let a=0;for(;a<r;){const r=e[l].members[a].displayName+": "+e[l].members[a].valueFormatted;r&&r.length>t.length&&(t=r);const n=e[l].members[a].timestampFormatted;n&&n.length>o.length&&(o=n),a++}}}return{maxValue:t,maxTimestamp:o}},Jt=(e,t,o,l,r,a,n)=>function(e,t,o,l,r,a){let n=t.replace("?",a),i=Xt(e,n);if(i<=(o*=.95)&&a<=l)return a;for(let s=a;s>=r;s--)if(n=t.replace("?",s),i=Xt(e,n),i<o&&s<=l)return Math.ceil(s);return 0}(e,`?px ${t}`,a,n/r,o,l),Zt=e=>{const t=(0,v.useStyles2)(Vt),o=(0,v.useStyles2)(jt),r=(0,v.useStyles2)(Ut),a=(0,v.useStyles2)(zt),n=(0,v.useStyles2)(Mt),i=(0,v.useTheme2)().isDark?"dark":"light",[s,c]=y().useState([]),[u,d]=y().useState([]),[p,m]=y().useState([]),[h,f]=y().useState([]),E=0,w=0,[T]=y().useState(`polystat_${e.panelId}_`+Math.floor(1e4*Math.random()).toString()),S=(0,b.useCallback)((()=>{for(let t=0;t<h.length;t++){let o=h[t],l=p[o],r=!1;if((e.globalShowValueEnabled||e.processedData&&e.processedData[o].isComposite&&e.processedData[o].showValue)&&(r=!0),r&&e.processedData&&s.length>0&&s[o].current){const t=e.processedData[o],r=to(l,t,e.globalDisplayTextTriggeredEmpty)[0];null!==s[o].current.innerHTML&&(s[o].current.innerHTML=r)}if(e.globalShowTimestampEnabled&&e.processedData&&u.length>0&&u[o].current){const t=e.processedData[o],r=to(l,t,e.globalDisplayTextTriggeredEmpty)[1];null!==u[o].current.innerHTML&&(u[o].current.innerHTML=r)}l++,e.processedData&&e.processedData[o]&&e.processedData[o].members.length&&(l%=e.processedData[o].members.length),p[o]=l,m(p)}}),[p,s,u,h,e.processedData,e.globalDisplayTextTriggeredEmpty,e.globalShowTimestampEnabled,e.globalShowValueEnabled]);(0,b.useEffect)((()=>{let t=!1;const o=[];let l;if(e.processedData.map(((e,l)=>{e.isComposite&&e.showValue&&(t=!0,o.push(l))})),JSON.stringify(h)!==JSON.stringify(o)&&e.processedData&&((e=>{if(e.length>0){const t=[],o=[],l=[];for(let r=0;r<e.length;r++)t.push((0,b.createRef)()),o.push((0,b.createRef)()),l.push(0);t.length>0&&s.length!==t.length&&(c(t),d(o),m(l))}})(e.processedData),f(o)),t){let t=parseInt(e.compositeConfig.animationSpeed,10);(t<200||isNaN(t))&&(t=200),l=setInterval(S,t)}return()=>{clearInterval(l)}}),[e.compositeConfig.animationSpeed,e.processedData,s]);const C=new _t(e.panelWidth,e.panelHeight,e.layoutNumColumns,e.layoutNumRows,e.layoutDisplayLimit,e.autoSizePolygons,e.globalShape);C.generatePossibleColumnAndRowsSizes(e.autoSizeColumns,e.autoSizeRows,e.processedData.length),C.generateActualColumnAndRowUsage(e.processedData,e.layoutDisplayLimit);let x=0;!e.autoSizePolygons&&e.globalPolygonSize?(e.globalPolygonSize<0||isNaN(e.globalPolygonSize)?e.globalPolygonSize=50:C.setRadius(e.globalPolygonSize),x=e.globalPolygonSize):x=C.generateRadius(e.globalShape);const O=C.generatePoints(e.processedData,e.layoutDisplayLimit,e.globalShape),N=function(){var e,t,o,l=0,r=0,a=1,n=1,i=te,s=oe;function c(e){var l,r={},a=[],n=e.length;for(l=0;l<n;++l)if(!isNaN(u=+i.call(null,c=e[l],l,e))&&!isNaN(d=+s.call(null,c,l,e))){var c,u,d,p=Math.round(d/=o),m=Math.round(u=u/t-(1&p)/2),h=d-p;if(3*Math.abs(h)>1){var g=u-m,f=m+(u<m?-1:1)/2,b=p+(d<p?-1:1),y=u-f,v=d-b;g*g+h*h>y*y+v*v&&(m=f+(1&p?1:-1)/2,p=b)}var E=m+"-"+p,w=r[E];w?w.push(c):(a.push(w=r[E]=[c]),w.x=(m+(1&p)/2)*t,w.y=p*o)}return a}function u(e){var t=0,o=0;return ee.map((function(l){var r=Math.sin(l)*e,a=-Math.cos(l)*e,n=r-t,i=a-o;return t=r,o=a,[n,i]}))}return c.hexagon=function(t){return"m"+u(null==t?e:+t).join("l")+"z"},c.centers=function(){for(var i=[],s=Math.round(r/o),c=Math.round(l/t),u=s*o;u<n+e;u+=o,++s)for(var d=c*t+(1&s)*t/2;d<a+t/2;d+=t)i.push([d,u]);return i},c.mesh=function(){var t=u(e).slice(0,4).join("l");return c.centers().map((function(e){return"M"+e+"m"+t})).join("")},c.x=function(e){return arguments.length?(i=e,c):i},c.y=function(e){return arguments.length?(s=e,c):s},c.radius=function(l){return arguments.length?(t=2*(e=+l)*Math.sin(Z),o=1.5*e,c):e},c.size=function(e){return arguments.length?(l=r=0,a=+e[0],n=+e[1],c):[a-l,n-r]},c.extent=function(e){return arguments.length?(l=+e[0][0],r=+e[0][1],a=+e[1][0],n=+e[1][1],c):[[l,r],[a,n]]},c.radius(1)}().radius(x).extent([[0,0],[e.panelWidth,e.panelHeight]]),{diameterX:R,diameterY:F}=C.getDiameters(),{xoffset:k,yoffset:A}=C.getOffsets(e.globalShape,e.processedData.length),D=R,I=F/2;let L=R*F;R<F&&(L=R*R),F<R&&(L=F*F);const $=(0,J.symbol)().size(L);let P;switch(e.globalShape){case l.HEXAGON_POINTED_TOP:P=N.hexagon(x);break;case l.CIRCLE:P=$.type(J.symbolCircle);break;case l.SQUARE:P=$.type(J.symbolSquare);break;default:P=N.hexagon(x)}const _=e=>({x:O[e].x,y:O[e].y});let M=e.globalFontSize,z=e.globalFontSize,V=e.globalFontSize,j=e.globalShowTimestampFontSize,U=!1,B=e.ellipseCharacters,H=e.globalShowTimestampEnabled,G=e.globalShowValueEnabled;if(e.globalAutoScaleFonts){const t=((e,t,o,l,r,a)=>{const n=240;let i=!1,s=0,c=Qt(a),u=Jt(c,e,6,n,2,t,o);u<6&&(i=!0,s=18,c=c.substring(0,s+2),u=Jt(c,e,6,n,2,t,o),u<6&&(s=10,c=c.substring(0,s+2),u=Jt(c,e,6,n,2,t,o),u<6&&(s=6,c=c.substring(0,s+2),u=Jt(c,e,6,n,2,t,o))));let{maxValue:d,maxTimestamp:p}=Kt(a),m=Jt(d,e,6,n,2,t,o);r&&(m=Jt(d,e,6,n,2,t,.67*o));let h=Jt(p,e,6,n,2,t,.33*o);h<6&&(h=0);let g=m,f=!1;if(a)for(let e=0;e<a.length;e++){const t=a[e];if(t.isComposite&&t.showValue){f=!0;break}}return l||(m=0,f||(g=0)),{activeLabelFontSize:u,activeValueFontSize:m,activeCompositeValueFontSize:g,activeTimestampFontSize:h,showEllipses:i,numOfChars:s}})(e.globalTextFontFamily,D,I,G,H,e.processedData);M=t.activeLabelFontSize,z=t.activeValueFontSize,j=t.activeTimestampFontSize,V=t.activeCompositeValueFontSize,U=t.showEllipses,B=t.numOfChars}const Y=((e,t,o,r,a,n,i,s)=>{let c=r/2/2+a/2,u=a/2,d=-r/2/2+n/2,p=n/2,m=0,h=0,g=c/2,f=.33*r/2+i/2;switch(e){case l.HEXAGON_POINTED_TOP:case l.CIRCLE:p=.37*n,s&&i>0&&(c=.67*r/2+a/2);break;case l.SQUARE:c=o/1.5+a/2,u=o/2+.37*n,d=o/4+n/2,p=o/2+.37*n,m=t/2,h=t/2,s&&i>0&&(f=o/1.5-.67*i)}return{valueWithLabelTextAlignment:c,valueOnlyTextAlignment:u,valueWithTimestampAlignment:g,labelWithValueTextAlignment:d,labelOnlyTextAlignment:p,labelTextAlignmentX:m,labelValueAlignmentX:h,timestampAlignment:f}})(e.globalShape,R,F,I,z,M,j,H);let X=Math.ceil(.2*z);z>j&&(X=Math.ceil(.2*j));let W=Math.ceil(V);V>j&&(W=Math.ceil(.75*j),e.globalShowTimestampPosition===g.BELOW_VALUE&&(W=Math.ceil(j)));const q=(t,o)=>{let a=e.processedData[t].color;e.globalGradientsEnabled&&(a=`url(#${T}_linear_gradient_state_data_${t})`);const n=C.generateRadius(e.globalShape),i=_(t);switch(o){case l.HEXAGON_POINTED_TOP:return y().createElement("path",{"data-tooltip-id":e.globalTooltipsEnabled?`polystat-tooltip-${T}`:null,"data-tooltip-content":t,"data-tooltip-position-strategy":"fixed",className:r,key:`polystat-tooltip-${T}`,transform:`translate(${i.x}, ${i.y})`,d:P,fill:a,stroke:e.globalPolygonBorderColor,strokeWidth:e.globalPolygonBorderSize+"px"});case l.CIRCLE:return y().createElement("circle",{"data-tooltip-id":e.globalTooltipsEnabled?`polystat-tooltip-${T}`:null,"data-tooltip-content":t,"data-tooltip-position-strategy":"fixed",key:`polystat-tooltip-${T}`,className:r,cx:i.x,cy:i.y,r:n,fill:a});case l.SQUARE:return y().createElement("rect",{"data-tooltip-id":e.globalTooltipsEnabled?`polystat-tooltip-${T}`:null,"data-tooltip-content":t,"data-tooltip-position-strategy":"fixed",key:`polystat-tooltip-${T}`,className:r,x:i.x,y:i.y,height:2*n,width:2*n,fill:a});default:return y().createElement("path",{"data-tooltip-id":e.globalTooltipsEnabled?`polystat-tooltip-${T}`:null,"data-tooltip-content":t,"data-tooltip-position-strategy":"fixed",className:r,key:`polystat-tooltip-${T}`,transform:`translate(${i.x}, ${i.y})`,d:P,fill:a,stroke:e.globalPolygonBorderColor,strokeWidth:e.globalPolygonBorderSize+"px"})}};let Q=w;if(!e.autoSizeColumns&&x&&C.maxColumnsUsed<e.layoutNumColumns){Q+=x*(e.layoutNumColumns-C.maxColumnsUsed)}let K=E;if(!e.autoSizeRows&&x&&C.maxRowsUsed<e.layoutNumRows){K+=x*(e.layoutNumRows-C.maxRowsUsed-1)}const le=e.processedData&&0===e.processedData.length?y().createElement("div",{className:a},e.globalDisplayTextTriggeredEmpty):null;if(null!==le)return le;const re=(()=>{if(!e.autoSizeColumns&&!e.autoSizeRows){const t=e.layoutNumColumns*e.layoutNumRows;if(t<e.processedData.length)return y().createElement("div",{className:n},"Not enough rows and columns for data. There are ",e.processedData.length," items to display, and only"," ",t," places allocated."," "," See the Display Limit setting in category Layout"," ")}return null})();return null!==re?re:y().createElement("div",{className:t},y().createElement("svg",{className:o,width:e.panelWidth,height:e.panelHeight,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",viewBox:`${k},${A},${e.panelWidth},${e.panelHeight}`},y().createElement("g",{transform:`translate(${Q},${K})`},y().createElement($t,{gradientId:T,data:e.processedData}),e.processedData.map(((t,o)=>{const l=_(o),r=t.sanitizeURLEnabled?t.sanitizedURL:t.clickThrough,a=(e=>{let t="_self";return e.newTabEnabled&&(t="_blank"),e.customClickthroughTargetEnabled&&(t=e.customClickthroughTarget),t})(t);let n;return n=a.length>0&&r.length>0?y().createElement("a",{target:a,href:r},q(o,e.globalShape)):y().createElement("a",{href:r},q(o,e.globalShape)),y().createElement(y().Fragment,null,r.length>0&&n?n:q(o,e.globalShape),((t,o,l)=>{let r=Y.labelWithValueTextAlignment;return t.showValue||(r=Y.labelOnlyTextAlignment),y().createElement("text",{className:"toplabel",x:l.x+Y.labelTextAlignmentX,y:l.y+r,textAnchor:"middle",fontFamily:e.globalTextFontFamily,fontSize:M+"px",style:{fill:e.globalTextFontAutoColorEnabled?e.globalTextFontAutoColor:e.globalTextFontColor,pointerEvents:"none"}},t.showName&&eo(e.globalAutoScaleFonts,e.ellipseEnabled,e.ellipseCharacters,U,B,t.name,t.displayName))})(t,0,l),((t,o,l)=>{let r=Y.valueWithLabelTextAlignment;if(e.globalShowTimestampEnabled)switch(isNaN(e.globalShowTimestampYOffset)&&(e.globalShowTimestampYOffset=0),e.globalShowTimestampPosition){case g.ABOVE_VALUE:r=Y.valueWithLabelTextAlignment;break;case g.BELOW_VALUE:r=Y.timestampAlignment+X,t.isComposite&&t.showValue&&(r=Y.timestampAlignment)}let a="";t.isComposite?t.showValue&&(a=to(0,t,e.globalDisplayTextTriggeredEmpty)[0]):e.globalShowValueEnabled&&(a=t.valueFormatted);let n=z;return t.isComposite&&(n=V),y().createElement("text",{ref:s[o],className:`valueLabel${o}`,x:l.x+Y.labelValueAlignmentX,y:l.y+r,textAnchor:"middle",fontFamily:e.globalTextFontFamily,fontSize:n+"px",style:{fill:e.globalTextFontAutoColorEnabled?e.globalTextFontAutoColor:e.globalTextFontColor,pointerEvents:"none"}},a)})(t,o,l),((t,o,l)=>{isNaN(e.globalShowTimestampYOffset)&&(e.globalShowTimestampYOffset=0);let r=Y.timestampAlignment-X+e.globalShowTimestampYOffset;switch(e.globalShowTimestampPosition){case g.ABOVE_VALUE:t.showValue?(r=Y.timestampAlignment-X+e.globalShowTimestampYOffset,t.isComposite&&(r=Y.timestampAlignment-W+e.globalShowTimestampYOffset)):r=Y.valueWithLabelTextAlignment+e.globalShowTimestampYOffset;break;case g.BELOW_VALUE:r=Y.valueWithLabelTextAlignment+e.globalShowTimestampYOffset,t.isComposite&&t.showValue&&(r=V+W+e.globalShowTimestampYOffset)}return y().createElement("text",{ref:u[o],className:`timestampLabel${o}`,x:l.x+Y.labelValueAlignmentX,y:l.y+r,textAnchor:"middle",fontFamily:e.globalTextFontFamily,fontSize:j+"px",style:{fill:e.globalTextFontAutoColorEnabled?e.globalTextFontAutoColor:e.globalTextFontColor,pointerEvents:"none"}},e.globalShowTimestampEnabled&&(t.isComposite?to(0,t,e.globalDisplayTextTriggeredEmpty)[1]:t.timestampFormatted))})(t,o,l))})))),e.globalTooltipsEnabled&&y().createElement(v.Portal,null,y().createElement(Lt,{style:{boxShadow:"rgba(1, 4, 9, 0.75) 0px 4px 8px 0px"},id:e.globalTooltipsEnabled?`polystat-tooltip-${T}`:void 0,place:"bottom",float:!0,variant:i,opacity:1,clickable:!1,render:({content:t})=>{if(t){const o=parseInt(t,10);return y().createElement(Bt,{data:e.processedData[o],renderTime:e.renderTime,showTime:e.globalTooltipsShowTimestampEnabled,valueEnabled:e.globalTooltipsShowValueEnabled,tooltipColumnHeadersEnabled:e.globalShowTooltipColumnHeadersEnabled,primarySortByField:e.tooltipPrimarySortByField,primarySortDirection:e.tooltipPrimarySortDirection,secondarySortByField:e.tooltipSecondarySortByField,secondarySortDirection:e.tooltipSecondarySortDirection,displayMode:e.tooltipDisplayMode,tooltipDisplayTextTriggeredEmpty:e.tooltipDisplayTextTriggeredEmpty,tooltipFontFamily:e.globalTooltipsFontFamily})}return y().createElement(y().Fragment,null)}})))},eo=(e,t,o,l,r,a,n)=>(""!==n&&(a=n),l&&a.length>r?a.substring(0,r)+"...":!e&&t&&a.length>o?a.substring(0,o)+"...":a),to=(e,t,l)=>{let r=t.valueFormatted,a=t.timestampFormatted;const n=t.members.length;if(n>0){let o=-1;if(t.displayMode===s[0].value)o=e%n;else{if(void 0===t.triggerCache&&(t.triggerCache=(e=>{let t=[];for(let o=0;o<e.members.length;o++){const l=e.members[o];if(l.thresholdLevel>0){const e={index:o,name:l.name,value:l.value,thresholdLevel:l.thresholdLevel};t.push(e)}}return t=(0,E.orderBy)(t,["thresholdLevel","value","name"],["desc","desc","asc"]),t})(t)),!(t.triggerCache.length>0))return[l,""];{const l=e%t.triggerCache.length;o=t.triggerCache[l].index}}const i=Object.assign({},t.members[o]);r=i.name+": "+i.valueFormatted,a=i.timestampFormatted}return[o.textUtil.sanitize(r),a]};function oo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function lo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){oo(e,t,o[t])}))}return e}function ro(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}function ao(e){for(let t=0;t<e.fields.length;t++){if(e.fields[t].type===o.FieldType.time)return!0}return!1}function no(e,t){let l=[];const r=e.fields.length;for(let t=0;t<r;t++)e.fields[t].type===o.FieldType.string&&l.push(t);let a=function(e,t,l){let r={};for(let a=0;a<t.length;a++){let n=t[a],i=e.fields[n];if(i.type!==o.FieldType.number){let e=io(i,l);r[i.name]=e}}return r}(e,l,t);return a}function io(e,t){return e.values.toArray()[t]}function so(e,t){let o=e;const l=e.thresholdLevel,r=t.thresholdLevel;if(void 0===l||void 0===r)return o;if(r>l&&(o=t),3===l)switch(r){case 1:case 2:o=t}return o}function co(e,t,o){let l=o;if(null===t)return{thresholdLevel:3,color:"#808080"};let r=-1;if(void 0===e)return{thresholdLevel:r,color:o};const a=e.length;if(0===a)return{thresholdLevel:r,color:o};const n=e[a-1];if(t>=n.value&&(r=n.state,l=n.color),1===e.length)return{thresholdLevel:r,color:l};for(let o=a-1;o>0;o--){const a=e[o],n=e[o-1];n.value<=t&&t<a.value&&r<n.state&&(r=n.state,l=n.color)}return-1===r&&(r=e[0].state,l=e[0].color),{thresholdLevel:r,color:l}}function uo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}class po{static transformSingleMetric(e,t,o){if(isNaN(e))return t;const l=o[e];for(;t.match(this.cellName);)t=t.replace(this.cellName,l.name);for(;t.match(this.cellValue);)t=t.replace(this.cellValue,encodeURIComponent(l.valueFormatted));for(;t.match(this.cellRawValue);)t=t.replace(this.cellRawValue,l.value.toString());return t}static transformNthMetric(e,t){for(;e.match(this.nthCellName);){const o=e.match(this.nthCellName);if(o&&o.length>=2){const l=t[o[1]].name;e=e.replace(this.nthCellName,l)}}for(;e.match(this.nthCellValue);){const o=e.match(this.nthCellValue);if(o&&o.length>=2){const l=t[o[1]].valueFormatted;e=e.replace(this.nthCellValue,encodeURIComponent(l))}}for(;e.match(this.nthCellRawValue);){const o=e.match(this.nthCellRawValue);if(o&&o.length>=2){const l=t[o[1]].value;e=e.replace(this.nthCellRawValue,l.toString())}}return e}static transformComposite(e,t){for(;t.match(this.compositeNameRegex);)t=t.replace(this.compositeNameRegex,e);return t}static transformByRegex(e,t,l){const r=(0,o.stringToJsRegex)(e),a=t.name.match(r);if(a&&a.length>0&&a.forEach(((e,t)=>{const o=a[t],r=`\${${t}}`,n=`$${t}`;l=(l=l.replace(r,o)).replace(n,o)})),a&&a.groups)for(const e in a.groups){const t=a.groups[e],o=`\${${e}}`,r=`$${e}`;l=(l=l.replace(o,t)).replace(r,t)}return l}}uo(po,"cellName",/\${__cell_name}/),uo(po,"cellValue",/\${__cell}/),uo(po,"cellRawValue",/\${__cell:raw}/),uo(po,"nthCellName",/\${__cell_name_(\d+)}/),uo(po,"nthCellValue",/\${__cell_(\d+)}/),uo(po,"nthCellRawValue",/\${__cell_(\d+):raw}/),uo(po,"compositeNameRegex",/\${__composite_name}/);var mo=u(8531);const ho="#️⃣🔠🆗🆗🔠#️⃣",go=(e,t,l)=>"utc"===e?(0,o.dateTime)(t).utc().format(l):(0,o.dateTime)(t).format(l);function fo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function bo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){fo(e,t,o[t])}))}return e}function yo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const vo=e=>"[object Array]"===Object.prototype.toString.call(e)?e.join(ho):e,Eo=(e,t,l)=>{const r=[],a=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g,n=new RegExp(`^${e}$`);return t.forEach((t=>{if(t.seriesMatch){const i=t.seriesMatch.match(a);i&&i.length>0?i.forEach((a=>{const i=l(a,{compositeName:{text:"compositeName",value:e}},vo).split(ho);i&&i.length&&i.forEach((e=>{if(e.match(n)){const l=t.seriesMatch.replace(a,e),n=(0,o.escapeStringForRegex)(e),i=t.seriesMatch.replace(a,n);r.push(yo(bo({},t),{seriesName:l,seriesNameEscaped:i}))}}))})):r.push(t)}})),r},wo=(e,t)=>{const o={};return t.forEach(((e,t)=>{o[t]={text:t,value:e}})),t.groups&&Object.keys(t.groups).forEach((e=>{o[e.replace(/\s+/g,"_")]={text:e,value:t.groups[e]}})),(0,mo.getTemplateSrv)().replace(e,o)},To=(e,t,l,r,a,n)=>{if(!e)return t;const i=[],s=[],c=[],u=((e,t)=>{const o=[];return e.forEach((e=>{const l=t(e.name,void 0,vo).split(ho),r=e.name.match(/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g);r&&r.length>0&&(e.isTemplated=!0),l.forEach((t=>{o.push(yo(bo({},e),{name:t,isTemplated:e.isTemplated}))}))})),o})(e,l);for(let e=0;e<u.length;e++){const r=[],n=u[e];if(!n.showComposite)continue;let p=null;const m=Eo(n.name,n.metrics,l);for(let e=0;e<m.length;e++){const c=m[e];for(let e=0;e<t.length;e++){if(void 0===c.seriesMatch)continue;let u=c.seriesMatch;void 0!==c.seriesNameEscaped&&(u=c.seriesNameEscaped);const d=(0,o.stringToJsRegex)(u).exec(t[e].name);if(d&&d.length>0){const u=t[e];if(c.alias&&c.alias.length>0&&(u.displayName=wo(c.alias,d)),r.push(e),n.showMembers?s.push(e):i.push(e),n.clickThrough&&n.clickThrough.length>0){let r=n.clickThrough;r=po.transformComposite(n.name,r),r=po.transformSingleMetric(e,r,t),r=po.transformNthMetric(r,t),r=l(r),u.clickThrough=r,u.sanitizedURL=o.textUtil.sanitizeUrl(r),u.customClickthroughTarget=n.clickThroughCustomTarget,u.customClickthroughTargetEnabled=n.clickThroughCustomTargetEnabled}n.showTimestampEnabled&&(u.timestampFormatted=go(a,t[e].timestamp,n.showTimestampFormat),u.showTimestamp=!0)}}}if(0!==r.length){for(let e=0;e<r.length;e++){const o=t[r[e]];p=null===p?o:so(p,o)}if(null!==p){const e={value:(d=p).value,valueFormatted:d.valueFormatted,valueRounded:d.valueRounded,stats:d.stats,name:d.name,displayName:d.displayName,timestamp:d.timestamp,timestampFormatted:d.timestampFormatted,prefix:d.prefix,suffix:d.suffix,color:d.color,clickThrough:d.clickThrough,operatorName:d.operatorName,newTabEnabled:d.newTabEnabled,sanitizedURL:d.sanitizedURL,sanitizeURLEnabled:d.sanitizeURLEnabled,customClickthroughTargetEnabled:!1,customClickthroughTarget:"",showName:d.showName,showValue:d.showValue,showTimestamp:d.showTimestamp,isComposite:d.isComposite,members:[]};e.name=n.name,e.displayName=n.name;for(let o=0;o<r.length;o++){const l=r[o];e.members.push(yo(bo({},t[l]),{name:t[l].displayName||t[l].name}))}e.thresholdLevel=p.thresholdLevel,e.showName=n.showName,e.showValue=n.showValue,e.showTimestamp=n.showTimestampEnabled,e.displayMode=n.displayMode,e.newTabEnabled=n.clickThroughOpenNewTab,e.sanitizeURLEnabled=n.clickThroughSanitize,e.customClickthroughTarget=n.clickThroughCustomTarget,e.customClickthroughTargetEnabled=n.clickThroughCustomTargetEnabled,e.isComposite=!0,c.push(e)}}}var d;r&&n?Array.prototype.push.apply(t,Mo(c,n)):Array.prototype.push.apply(t,c);for(let e=0;e<s.length;e++){const t=s[e],o=i.indexOf(t);o>=0&&i.splice(o,1)}i.sort(((e,t)=>t-e));for(let e=t.length;e>=0;e--)(0,E.includes)(i,e)&&t.splice(e,1);return t};function So(e,t,o,l){switch(o){case"name":return e;case"last_time":return t?t.timestamp:Date.now();default:return l[o]}}const Co=(e,t)=>{const o=e.reduce(((e,o)=>(1===o.type?e=((e,t,o)=>{if(void 0===t.value)return e;if(null===o&&xo(t))return e.concat(t);const l=parseFloat(o),r=parseFloat(t.value);return(isNaN(l)||isNaN(r))&&o===t.value?e.concat(t):l!==r?e:e.concat(t)})(e,o,t):2===o.type&&(e=((e,t,o)=>{if(void 0===t.from||void 0===t.to||void 0===o)return e;if(null===o&&t.from&&t.to&&"null"===t.from.toLowerCase()&&"null"===t.to.toLowerCase())return e.concat(t);const l=parseFloat(o),r=parseFloat(t.from),a=parseFloat(t.to);return isNaN(l)||isNaN(r)||isNaN(a)?e:l>=r&&l<=a?e.concat(t):e})(e,o,t)),e)),[]);return o.sort(((e,t)=>e.id-t.id)),o},xo=e=>!(!e||!e.value)&&"null"===e.value.toLowerCase();var Oo=function(e){return e.ValueToText="value",e.RangeToText="range",e.RegexToText="regex",e.SpecialValue="special",e}({}),No=function(e){return e.True="true",e.False="false",e.Null="null",e.NaN="nan",e.NullAndNaN="null+nan",e.Empty="empty",e}({});function Ro(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Fo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){Ro(e,t,o[t])}))}return e}function ko(e,t){for(const l of e)switch(l.type){case Oo.ValueToText:if(null==t)continue;const e=l.options[t];if(e)return e;break;case Oo.RangeToText:if(null==t)continue;const r=parseFloat(t);if(isNaN(r))continue;if(!isNaN(l.options.from)&&r<l.options.from)continue;if(!isNaN(l.options.to)&&r>l.options.to)continue;return l.options.result;case Oo.RegexToText:if(null==t)continue;if("string"!=typeof t)continue;const a=(0,o.stringToJsRegex)(l.options.pattern);if(t.match(a)){const e=Fo({},l.options.result);return null!=e.text&&(e.text=t.replace(a,l.options.result.text||"")),e}case Oo.SpecialValue:switch(l.options.match){case No.Null:if(null==t)return l.options.result;break;case No.NaN:if(isNaN(t))return l.options.result;break;case No.NullAndNaN:if(isNaN(t)||null==t)return l.options.result;break;case No.True:if(!0===t||"true"===t)return l.options.result;break;case No.False:if(!1===t||"false"===t)return l.options.result;break;case No.Empty:if(""===t)return l.options.result}}return null}const Ao=(e,t)=>{let o=((e,t)=>Co(e,t)[0])(e,t);return void 0===o?ko(e,t):o};function Do(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function Io(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const Lo=e=>"[object Array]"===Object.prototype.toString.call(e)?e.join(ho):e,$o=(e,t)=>{const o=[],l=/\$(\w+)|\[\[([\s\S]+?)(?::(\w+))?\]\]|\${(\w+)(?:\.([^:^\}]+))?(?::(\w+))?}/g;return e.forEach((e=>{if(e.metricName){const r=e.metricName.match(l);r&&r.length>0?r.forEach((l=>{t(l,{},Lo).split(ho).forEach((t=>{const r=e.metricName.replace(l,t);o.push(Io(function(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){Do(e,t,o[t])}))}return e}({},e),{metricName:r}))}))})):o.push(e)}})),o},Po=(e,t,l)=>{const r=$o(t,l);for(let t=0;t<r.length;t++){const l=r[t],a=(0,o.stringToJsRegex)(l.metricName),n=e.match(a);if(n&&n.length>0&&l.enabled)return r[t]}return null};function _o(e,t,l,r,a,n,i,s,c,u,d,p,m,h,g,f,b,y,v,E,w,T,S,C,x,O,N,R){let F=function(e){const t=Date.now(),l=[];for(const r of e){const e=ro(lo({},r),{meta:lo({},r.meta),fields:[]}),a=ao(r);for(const t of r.fields)if(t.type===o.FieldType.number)if(a){const o=Object.assign({},t);t.state&&(o.state=Object.assign({},t.state)),e.fields.push(o)}else{const o=Object.assign({},t),l=o.values.toArray(),a=l.length;for(let n=0;n<a;n++)null!==l[n]&&(t.state&&(o.state=Object.assign({},t.state)),e.fields.push(ro(lo({},o),{labels:no(r,n),values:[io(o,n)]})))}if(a){for(const t of r.fields)if(t.type!==o.FieldType.number){const o=Object.assign({},t);t.state&&(o.state=Object.assign({},t.state)),e.fields.push(o)}}else{const l={},r={name:"Time",type:o.FieldType.time,values:[t],config:l};e.fields.push(r)}l.push(e)}return l}(r.series),k=[];return F.map((e=>{const t=Bo(e,p);for(const e of t)k.push(e)})),k=Mo(k,g),k=jo(k,n,y,m,f,v,E,w,T,O,R),k=((e,t,l,r,a,n,i,s,c)=>{const u=c.visualization.getColorByName(r);if(!e)return t;for(let s=0;s<t.length;s++){const d=Po(t[s].name,e,n);if(d){const e=t[s];e.operatorName=d.operatorName;const p=So(e.name,e,e.operatorName,e.stats),m=co(d.thresholds&&d.thresholds.length?d.thresholds:a,p,r),h=c.visualization.getColorByName(m.color);t[s].value=p,t[s].color=h,t[s].thresholdLevel=m.thresholdLevel;const g=Ao(l.defaults.mappings,t[s].value);if(g&&""!==g.text){if(t[s].valueFormatted=g.text,g.color){let e=c.visualization.getColorByName(g.color);t[s].color=e}else t[s].color=u;d.showTimestampEnabled&&(t[s].timestampFormatted=go(i,t[s].timestamp,d.showTimestampFormat),t[s].showTimestamp=!0)}else{const e=(0,o.getValueFormat)(d.unitFormat);if(e){const o=+d.decimals,l=e(t[s].value,o,d.scaledDecimals);t[s].valueFormatted=l.text,l.suffix&&(t[s].valueFormatted+=l.suffix),l.prefix&&(t[s].valueFormatted=l.prefix+t[s].valueFormatted),t[s].valueRounded=qt(t[s].value,o)||t[s].value}d.showTimestampEnabled&&(t[s].timestampFormatted=go(i,t[s].timestamp,d.showTimestampFormat),t[s].showTimestamp=!0)}if(""!==d.prefix&&(t[s].valueFormatted=d.prefix+" "+t[s].valueFormatted),""!==d.suffix&&(t[s].valueFormatted=t[s].valueFormatted+" "+d.suffix),""!==d.alias&&(t[s].displayName=d.alias),t[s].prefix=d.prefix,t[s].suffix=d.suffix,d.clickThrough&&d.clickThrough.length>0){let e=d.clickThrough;e=po.transformSingleMetric(s,e,t),e=po.transformNthMetric(e,t),e=po.transformByRegex(d.metricName,t[s],e),n&&(e=n(e)),t[s].clickThrough=e,t[s].newTabEnabled=d.clickThroughOpenNewTab,t[s].sanitizeURLEnabled=d.clickThroughSanitize,t[s].sanitizedURL=o.textUtil.sanitize(t[s].clickThrough),t[s].customClickthroughTargetEnabled=d.clickThroughCustomTargetEnabled,t[s].customClickthroughTarget=d.clickThroughCustomTarget}}else if(a&&a.length){const e=co(a,t[s].value,r);t[s].color=e.color,t[s].thresholdLevel=e.thresholdLevel}}return t})(l,k,n,f,b,a,O,0,R),e&&(k=To(t,k,a,x,O,g)),k=zo(k,i,s,c,u,d,a),k=Uo(k,h),k=Wt(k,C,S),k}const Mo=(e,t)=>{for(let l=0;l<e.length;l++)if(""!==t){const r=(0,o.stringToJsRegex)(t);if(e[l].name&&r.test(e[l].name.toString())){const t=r.exec(e[l].name.toString());if(!t)continue;let o="";t.length>1&&(t.slice(1).forEach(((e,t)=>{e&&(o+=o.length>0?" "+e.toString():e.toString())})),e[l].displayName=o)}}return e},zo=(e,t,l,r,a,n,i)=>{for(let s=0;s<e.length;s++)0===e[s].clickThrough.length&&(e[s].clickThrough=Vo(s,t,e,i),e[s].newTabEnabled=l,e[s].sanitizeURLEnabled=r,e[s].sanitizedURL=o.textUtil.sanitize(e[s].clickThrough),e[s].customClickthroughTargetEnabled=a,e[s].customClickthroughTarget=n);return e},Vo=(e,t,o,l)=>{let r=t;return r=po.transformSingleMetric(e,r,o),r=po.transformNthMetric(r,o),r=l(r),r},jo=(e,t,l,r,a,n,i,s,c,u,d)=>{let p=d.visualization.getColorByName(a);const m=(0,o.getValueFormat)(l);for(let o=0;o<e.length;o++)if(null!==e[o].value){e[o].showName=n,e[o].showValue=i;const l=Ao(t.defaults.mappings,e[o].value);if(l&&""!==l.text)if(e[o].valueFormatted=l.text,s&&(e[o].timestampFormatted=go(u,e[o].timestamp,c),e[o].showTimestamp=!0),l.color){let t=d.visualization.getColorByName(l.color);e[o].color=t}else e[o].color=p;else{if(m){const t=Yt(e[o].value,r),l=m(e[o].value,t.decimals,t.scaledDecimals);e[o].valueFormatted=l.text,l.suffix&&(e[o].valueFormatted+=` ${l.suffix}`),l.prefix&&(e[o].valueFormatted=`{$formatted.prefix} ${e[o].valueFormatted}`);const a=qt(e[o].value,t.decimals);null!==a&&(e[o].valueRounded=a),s&&(e[o].timestampFormatted=go(u,e[o].timestamp,c),e[o].showTimestamp=!0)}e[o].color=p}}return e},Uo=(e,t)=>{const o=[],l=[];if("all"!==t){const t=e.length;for(let r=0;r<t;r++){const t=e[r];t.isComposite&&l.push(t),t.thresholdLevel<1&&o.push(r)}for(let t=e.length;t>=0;t--)(0,E.includes)(o,t)&&e.splice(t,1);0===e.length&&l.length>0&&(e=l)}return e},Bo=(e,t)=>{const l=[];let r=0;for(const t of e.fields)if(t.type===o.FieldType.number)l.push(t);else if(t.type===o.FieldType.time){let e=0,o=t.values.length-1;try{e=t.values.get(o)}catch(l){e=t.values[o]}0===r&&(r=e),e>r&&(r=e)}0===r&&(r=(new Date).getTime());const n=[];for(const i of l){const l=(0,o.getFieldDisplayName)(i,e),c=(0,o.reduceField)({field:i,reducers:["bogus"]}),u=So(l,null,t,c);let d=4;void 0!==i.config.decimals&&null!==i.config.decimals&&(d=i.config.decimals);const p=(0,o.getValueFormat)(i.config.unit)(u,d,void 0,void 0),m=(0,o.formattedValueToString)(p),h={displayMode:s[0].value,thresholdLevel:0,value:u,valueFormatted:m,valueRounded:qt(u,d)||u,stats:c,name:l,displayName:l,timestamp:r,timestampFormatted:"",prefix:"",suffix:"",color:I,clickThrough:"",operatorName:a[0].value,newTabEnabled:!0,sanitizedURL:"",sanitizeURLEnabled:!0,showName:!0,showValue:!0,showTimestamp:!1,isComposite:!1,members:[],customClickthroughTargetEnabled:!1,customClickthroughTarget:""};n.push(h)}return n},Ho=e=>({wrapper:N.css`
      position: relative;
    `,container:N.css`
      align-items: center;
      justify-content: center;
      display: flex;
      height: 100%;
      width: 100%;
      & svg > g > polygon {
        fill: transparent;
      }
    `}),Go=[{value:"all",label:"Show All"},{value:"triggered",label:"Show Triggered"}];function Yo(e,t,o,l,r,a,n){try{var i=e[a](n),s=i.value}catch(e){return void o(e)}i.done?t(s):Promise.resolve(s).then(l,r)}const Xo=e=>{const[t,o]=(0,b.useState)([]);function l(){var t;return t=function*(t){if(e.metric.seriesMatch){const t=e.metric.seriesMatch;if("clipboard"in navigator){if(t)return yield navigator.clipboard.writeText(t)}else if(t)return document.execCommand("copy",!0,t)}},l=function(){var e=this,o=arguments;return new Promise((function(l,r){var a=t.apply(e,o);function n(e){Yo(a,l,r,n,i,"next",e)}function i(e){Yo(a,l,r,n,i,"throw",e)}n(void 0)}))},l.apply(this,arguments)}return(0,b.useEffect)((()=>{if(e.context.data){const t=e.context.data;let l=[],r=Y(t);for(const e of r)l.push({label:e,value:e});o(l)}}),[e.context.data]),y().createElement(v.FieldSet,null,y().createElement(v.HorizontalGroup,null,y().createElement(v.IconButton,{key:"deleteMetric",variant:"destructive",name:"trash-alt",tooltip:"Delete this metric",onClick:()=>e.removeMetric(e.index)}),y().createElement(v.IconButton,{key:"copyMetric",variant:"secondary",name:"copy",tooltip:"Copy Metric/Regex",onClick:()=>function(e){return l.apply(this,arguments)}(e.index)}),y().createElement(v.Field,{label:"Metric/RegEx",id:`cmi-field-index-${e.index}`,style:{minWidth:"175px"},disabled:e.disabled},y().createElement(v.Cascader,{key:`cmi-cascader-index-${e.index}`,initialValue:e.metric.seriesMatch,allowCustomValue:!0,placeholder:"",options:t,onSelect:t=>{return o=t,void e.updateMetric(e.index,o);var o}})),y().createElement(v.Field,{label:"Alias",disabled:e.disabled},y().createElement(v.Input,{value:e.metric.alias,id:`cmi-alias-index-${e.index}`,placeholder:"",onChange:t=>{return o=t.currentTarget.value,void e.updateMetricAlias(e.index,o);var o}}))))};function Wo(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function qo(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},l=Object.keys(o);"function"==typeof Object.getOwnPropertySymbols&&(l=l.concat(Object.getOwnPropertySymbols(o).filter((function(e){return Object.getOwnPropertyDescriptor(o,e).enumerable})))),l.forEach((function(t){Wo(e,t,o[t])}))}return e}function Qo(e,t){return t=null!=t?t:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):function(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);t&&(l=l.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,l)}return o}(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})),e}const Ko=e=>{const[t,o]=(0,b.useState)(e.composite),[l,r]=(0,b.useState)((e=>{const t=Go.keys();for(const o of t)if(Go[o].value===e)return Go[o];return Go[0]})(e.composite.displayMode)),a=l=>{o(l),e.setter(t.order,l)},[n]=(0,b.useState)("eye"),[i]=(0,b.useState)("eye-slash"),s=t=>{let o=[...e.composite.metrics];o.splice(t,1),a(Qo(qo({},e.composite),{metrics:o}))},c=(t,o)=>{const l=e.composite.metrics;l[t].seriesMatch=o,a(Qo(qo({},e.composite),{metrics:l}))},u=(t,o)=>{const l=e.composite.metrics;l[t].alias=o,a(Qo(qo({},e.composite),{metrics:l}))};return y().createElement(v.Card,{key:`composite-card-${e.ID}`},y().createElement(v.Card.Meta,null,y().createElement(v.FieldSet,null,y().createElement(v.Field,{label:"Composite Name",description:"Name or Regular Expression",disabled:!t.showComposite},y().createElement(v.Input,{value:t.name,placeholder:"",onChange:e=>a(Qo(qo({},t),{name:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Show Name",description:"Toggle Display of composite name",disabled:!t.showComposite},y().createElement(v.Switch,{transparent:!0,value:t.showName,disabled:!t.showComposite,onChange:()=>{const e=t.showName;a(Qo(qo({},t),{showName:!e}))}})),y().createElement(v.Field,{label:"Show Value",description:"Toggle Display of composite value",disabled:!t.showComposite},y().createElement(v.Switch,{transparent:!0,value:t.showValue,disabled:!t.showComposite,onChange:()=>a(Qo(qo({},t),{showValue:!t.showValue}))})),y().createElement(v.Field,{label:"Show Members",description:"Toggle Display of composite members",disabled:!t.showComposite},y().createElement(v.Switch,{transparent:!0,value:t.showMembers,disabled:!t.showComposite,onChange:()=>a(Qo(qo({},t),{showMembers:!t.showMembers}))})),y().createElement(v.Field,{label:"Display Mode",description:"All will display all members, Triggered will only display those meeting threshold settings",disabled:!t.showComposite},y().createElement(v.Select,{menuShouldPortal:!0,value:l,onChange:e=>{r(e),a(Qo(qo({},t),{displayMode:e.value}))},options:Go})),y().createElement(v.Field,{label:"Clickthrough URL",description:"URL to Open on Click",disabled:!t.showComposite},y().createElement(v.Input,{value:t.clickThrough,placeholder:"https://",onChange:e=>a(Qo(qo({},t),{clickThrough:e.currentTarget.value}))})),y().createElement(v.Field,{label:"Sanitize URL",description:"Sanitize URL before evaluating",disabled:!t.showComposite},y().createElement(v.Switch,{transparent:!1,disabled:!t.showComposite,value:t.clickThroughSanitize,onChange:()=>a(Qo(qo({},t),{clickThroughSanitize:!t.clickThroughSanitize}))})),y().createElement(v.Field,{label:"Open URL in New Tab",description:"Open link in new tab",disabled:!t.showComposite},y().createElement(v.Switch,{transparent:!1,value:t.clickThroughOpenNewTab,disabled:!t.showComposite,onChange:()=>a(Qo(qo({},t),{clickThroughOpenNewTab:!t.clickThroughOpenNewTab}))})),y().createElement(v.Field,{label:"Enable Custom URL Target",description:"Enable custom target",disabled:!t.showComposite,hidden:t.clickThroughOpenNewTab},y().createElement(v.Switch,{transparent:!1,value:t.clickThroughCustomTargetEnabled,disabled:!t.showComposite,onChange:()=>a(Qo(qo({},t),{clickThroughCustomTargetEnabled:!t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget||""}))})),y().createElement(v.Field,{label:"Custom URL Target",description:"Specify a custom target, typical values are: _blank|_self|_parent|_top|framename",disabled:!t.showComposite,hidden:!t.clickThroughCustomTargetEnabled},y().createElement(v.Input,{value:t.clickThroughCustomTarget,placeholder:"_self",disabled:!t.showComposite,onChange:e=>a(Qo(qo({},t),{clickThroughCustomTarget:e.currentTarget.value}))})),y().createElement(v.Field,{disabled:!t.showComposite},y().createElement(v.Button,{key:"addMetric",variant:"primary",icon:"plus",disabled:!t.showComposite,onClick:()=>{const e={seriesMatch:"",ID:O(),order:0};if(t.metrics){const o=t.metrics;e.order=o.length,o.push(e),a(Qo(qo({},t),{metrics:o}))}else{const o=[];o.push(e),a(Qo(qo({},t),{metrics:o}))}}},"Add Metric")),t.metrics&&t.metrics.map(((o,l)=>(o.ID||(o.ID=O()),y().createElement(Xo,{key:`composite-metric-id-${o.ID}`,metric:o,index:l,disabled:!t.showComposite,updateMetric:c,updateMetricAlias:u,removeMetric:s,context:e.context})))))),y().createElement(v.Card.Actions,null,y().createElement(v.IconButton,{key:"moveUp",name:"arrow-up",tooltip:"Move Up",onClick:()=>{e.moveUp(t.order)}}),y().createElement(v.IconButton,{key:"moveDown",name:"arrow-down",tooltip:"Move Down",onClick:()=>{e.moveDown(t.order)}}),y().createElement(v.IconButton,{key:"showComposite",name:t.showComposite?n:i,tooltip:"Hide/Show Composite",onClick:()=>a(Qo(qo({},t),{showComposite:!t.showComposite}))}),y().createElement(v.IconButton,{key:"copyComposite",name:"copy",tooltip:"Duplicate",onClick:()=>{e.createDuplicate(t.order)}}),y().createElement(v.IconButton,{key:"deleteComposite",variant:"destructive",name:"trash-alt",tooltip:"Delete Composite",onClick:()=>{e.remover(t.order)}})))},Jo=({context:e,onChange:t})=>{const[o]=(0,b.useState)(e.options.compositeConfig),[l,r]=(0,b.useState)(e.options.compositeConfig.animationSpeed),[a,n]=(0,b.useState)(e.options.compositeConfig.enabled),[i,s]=(0,b.useState)((()=>{if(o.composites){const e=[];return o.composites.forEach(((t,o)=>{e[o]={composite:t,order:o,ID:O()}})),e}return[]})),c=e=>{s(e);const l=[];e.forEach((e=>{l.push(e.composite)}));const r={composites:l,animationSpeed:o.animationSpeed,enabled:o.enabled};t(r)},[u,d]=(0,b.useState)((()=>{if(!i)return[];let e=i.length;const t=[];for(;e--;)t[e]=!1;return t})),p=(e,t,o)=>{if(o>=e.length){let t=o-e.length+1;for(;t--;)e.push(void 0)}e.splice(o,0,e.splice(t,1)[0])},m=e=>{if(e!==i.length-1){p(i,e,e+1);for(let e=0;e<i.length;e++)i[e].order=e,i[e].composite.order=e;c([...i])}},g=e=>{if(e>0){p(i,e,e-1);for(let e=0;e<i.length;e++)i[e].order=e,i[e].composite.order=e;c([...i])}},f=e=>{const t=i[e].composite,o=i.length,l={composite:{name:`${t.name} Copy`,label:`${t.name} Copy`,order:o,isTemplated:t.isTemplated,displayMode:t.displayMode,enabled:t.enabled,showName:t.showName,showValue:t.showValue,showComposite:t.showComposite,showMembers:t.showMembers,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,metrics:t.metrics,clickThrough:t.clickThrough,clickThroughOpenNewTab:t.clickThroughOpenNewTab,clickThroughSanitize:t.clickThroughSanitize,clickThroughCustomTargetEnabled:t.clickThroughCustomTargetEnabled,clickThroughCustomTarget:t.clickThroughCustomTarget},order:o,ID:O()};c([...i,l]),d([...u,!0])},E=(e,t)=>{i[e].composite=t,c([...i])},w=e=>{const t=[...i];let o=0;for(let l=0;l<t.length;l++)if(t[l].order===e){o=l;break}t.splice(o,1);for(let e=0;e<t.length;e++)t[e].order=e;c([...t])};return y().createElement(y().Fragment,null,y().createElement(v.FieldSet,null,y().createElement(v.Field,{label:"Enable Composites",description:"Enable/Disable Composites Globally"},y().createElement(v.Switch,{transparent:!0,value:a,onChange:()=>{return n(e=!a),o.enabled=e,void t(o);var e}})),y().createElement(v.Field,{label:"Animation Speed (ms)",description:"Animation Speed in milliseconds",disabled:!o.enabled},y().createElement(v.Input,{value:l,placeholder:"500",onChange:e=>{return l=e.currentTarget.value,r(l),o.animationSpeed=l,void t(o);var l}}))),y().createElement(v.Button,{fill:"solid",variant:"primary",icon:"plus",disabled:!o.enabled,onClick:()=>{const e=i.length,t={composite:{name:`Composite-${e}`,label:`Composite-${e}`,showName:!0,showValue:!0,showMembers:!1,showComposite:!0,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,isTemplated:!1,enabled:!0,metrics:[],displayMode:Go[0].value,clickThrough:"",clickThroughOpenNewTab:!0,clickThroughSanitize:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",order:e},order:e,ID:O()};c([...i,t]),d([...u,!0])}},"Add Composite"),i&&i.map(((t,o)=>y().createElement(v.Collapse,{key:`collapse-item-index-${t.ID}`,label:t.composite.name,isOpen:u[o],onToggle:()=>(e=>{const t=[...u];t[e]=!t[e],d([...t])})(o),collapsible:!0},y().createElement(Ko,{key:`composite-item-index-${t.ID}`,ID:t.ID,composite:t.composite,enabled:t.composite.enabled,setter:E,remover:w,moveUp:g,moveDown:m,createDuplicate:f,context:e})))))},Zo=({context:e,onChange:t})=>{const[o,l]=(0,b.useState)(e.options.globalThresholdsConfig);return y().createElement(y().Fragment,null,y().createElement(v.Field,null,y().createElement(G,{thresholds:o,setter:e=>{l(e),t(e)}})))};var el=u(8449);const tl=e=>{let t={autoSizeColumns:!0,autoSizeRows:!0,autoSizePolygons:!0,ellipseCharacters:18,ellipseEnabled:!1,globalAutoScaleFonts:!0,globalClickthrough:"",globalClickthroughNewTabEnabled:!1,globalClickthroughSanitizedEnabled:!1,globalClickthroughCustomTargetEnabled:!1,globalClickthroughCustomTarget:"",globalDecimals:2,globalDisplayMode:"all",globalDisplayTextTriggeredEmpty:"",globalFillColor:"",globalFontSize:8,globalGradientsEnabled:!1,globalOperator:"mean",globalPolygonBorderSize:1,globalPolygonBorderColor:"",globalPolygonSize:50,globalRegexPattern:"",globalShape:l.HEXAGON_POINTED_TOP,globalShowValueEnabled:!0,globalShowTooltipColumnHeadersEnabled:!0,globalShowTimestampEnabled:!1,globalShowTimestampFormat:h[0].value,globalShowTimestampPosition:f[0].value,globalShowTimestampFontSize:12,globalShowTimestampYOffset:0,globalTextFontColor:"#000000",globalTextFontAutoColor:"#000000",globalTextFontAutoColorEnabled:!1,globalTextFontFamily:c.INTER,globalThresholdsConfig:[],globalTooltipsEnabled:!0,globalTooltipsShowTimestampEnabled:!0,globalTooltipsShowValueEnabled:!0,globalTooltipsFontFamily:c.INTER,globalUnitFormat:"",layoutDisplayLimit:100,layoutNumColumns:8,layoutNumRows:8,panelHeight:void 0,panelWidth:void 0,panelId:0,radius:100,renderTime:void 0,sortByField:"",sortByDirection:0,overrideConfig:{overrides:[]},compositeGlobalAliasingEnabled:!1,compositeConfig:{animationSpeed:"",composites:[],enabled:!1},tooltipPrimarySortDirection:0,tooltipPrimarySortByField:"",tooltipSecondarySortDirection:0,tooltipSecondarySortByField:"",tooltipDisplayMode:"all",tooltipDisplayTextTriggeredEmpty:""};if(e.animationSpeed&&t.compositeConfig&&(t.compositeConfig.animationSpeed=e.animationSpeed.toString()),e.columnAutoSize&&(t.autoSizeColumns=e.columnAutoSize),e.columns){let o=parseInt(e.columns,10);(isNaN(o)||o<1)&&(o=8),t.layoutNumColumns=o}if(e.defaultClickThrough&&(t.globalClickthrough=e.defaultClickThrough),e.defaultClickThroughNewTab&&(t.globalClickthroughNewTabEnabled=e.defaultClickThroughNewTab),e.defaultClickThroughSanitize&&(t.globalClickthroughSanitizedEnabled=e.defaultClickThroughSanitize),e.displayLimit&&(t.layoutDisplayLimit=e.displayLimit),e.ellipseCharacters&&(t.ellipseCharacters=e.ellipseCharacters),e.ellipseEnabled&&(t.ellipseEnabled=e.ellipseEnabled),e.fontAutoColor&&(t.globalTextFontAutoColorEnabled=e.fontAutoColor),e.fontAutoScale&&(t.globalAutoScaleFonts=e.fontAutoScale),e.fontSize&&(t.globalFontSize=e.fontSize),t.globalTextFontFamily=c.INTER,nl()&&(t.globalTextFontFamily=c.ROBOTO),e.globalDecimals&&(t.globalDecimals=e.globalDecimals),e.globalDisplayMode&&(t.globalDisplayMode=e.globalDisplayMode),e.globalDisplayTextTriggeredEmpty&&(t.globalDisplayTextTriggeredEmpty=e.globalDisplayTextTriggeredEmpty),e.globalOperatorName&&(t.globalOperator=ll(e.globalOperatorName)),e.globalThresholds){t.globalThresholdsConfig=[];for(const o of e.globalThresholds){const e={value:o.value,state:o.state,color:o.color};t.globalThresholdsConfig.push(e)}}if(e.globalUnitFormat&&(t.globalUnitFormat=e.globalUnitFormat),e.gradientEnabled&&(t.globalGradientsEnabled=e.gradientEnabled),e.hexagonSortByDirection&&(t.sortByDirection=e.hexagonSortByDirection),e.hexagonSortByField&&(t.sortByField=e.hexagonSortByField),e.polygonBorderColor&&(t.globalPolygonBorderColor=e.polygonBorderColor),e.polygonBorderSize&&(t.globalPolygonBorderSize=e.polygonBorderSize),e.polygonGlobalFillColor&&(t.globalFillColor=e.polygonGlobalFillColor),e.radius){let o=parseFloat(e.radius);(isNaN(o)||o<0)&&(o=0),t.radius=o}if(e.radiusAutoSize&&(t.autoSizePolygons=e.radiusAutoSize),e.regexPattern&&(t.globalRegexPattern=e.regexPattern),e.rowAutoSize&&(t.autoSizeRows=e.rowAutoSize),e.rows){let o=parseInt(e.rows,10);(isNaN(o)||o<1)&&(o=8),t.layoutNumRows=o}if(e.shape)switch(e.shape){case"circle":t.globalShape=l.CIRCLE;break;case"square":t.globalShape=l.SQUARE;break;default:t.globalShape=l.HEXAGON_POINTED_TOP}return e.tooltipDisplayMode&&(t.tooltipDisplayMode=e.tooltipDisplayMode),e.tooltipDisplayTextTriggeredEmpty&&(t.tooltipDisplayTextTriggeredEmpty=e.tooltipDisplayTextTriggeredEmpty),e.tooltipEnabled&&(t.globalTooltipsEnabled=e.tooltipEnabled),e.tooltipPrimarySortDirection&&(t.tooltipPrimarySortDirection=e.tooltipPrimarySortDirection),e.tooltipPrimarySortField&&(t.tooltipPrimarySortByField=e.tooltipPrimarySortField),e.tooltipSecondarySortDirection&&(t.tooltipSecondarySortDirection=e.tooltipSecondarySortDirection),e.tooltipSecondarySortField&&(t.tooltipSecondarySortByField=e.tooltipSecondarySortField),e.tooltipTimestampEnabled&&(t.globalTooltipsShowTimestampEnabled=e.tooltipTimestampEnabled),t.globalTooltipsFontFamily=c.INTER,nl()&&(t.globalTooltipsFontFamily=c.ROBOTO),e.valueEnabled&&(t.globalShowValueEnabled=e.valueEnabled),t},ol=e=>{var t;let o={overrideConfig:{overrides:[]}};if(null===(t=e.savedOverrides)||void 0===t?void 0:t.length){let t=0;for(const l of e.savedOverrides){let e={label:"",metricName:"",alias:"",thresholds:[],colors:[],unitFormat:"",decimals:"",scaledDecimals:0,enabled:!0,operatorName:"avg",prefix:"",suffix:"",clickThrough:"",clickThroughSanitize:!0,clickThroughOpenNewTab:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:"",order:t,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0};for(const t of Object.keys(l)){const o=l[t];switch(t){case"$$hashKey":break;case"clickThrough":e.clickThrough=o;break;case"colors":e.colors=o;break;case"decimals":e.decimals=o;break;case"enabled":e.enabled=o;break;case"label":e.label=o;break;case"metricName":e.metricName=o;break;case"newTabEnabled":e.clickThroughOpenNewTab=o;break;case"operatorName":e.operatorName=ll(o);break;case"prefix":e.prefix=o;break;case"sanitizeURLEnabled":e.clickThroughSanitize=o;break;case"suffix":e.suffix=o;break;case"thresholds":e.thresholds=[];for(const t of o){const o={value:t.value,state:t.state,color:t.color};e.thresholds.push(o)}break;case"unitFormat":e.unitFormat=o}}o.overrideConfig.overrides.push(e),t++}}return o},ll=e=>{switch(e){case"avg":return"mean";case"current":return"last";case"time_step":return"step";case"total":return"sum";default:return e}},rl=e=>{e.mappingType=1;let t=[];void 0!==e.valueMaps&&(t=(0,o.convertOldAngularValueMappings)(e)),e.mappingType=2;let l=[];void 0!==e.rangeMaps&&(l=(0,o.convertOldAngularValueMappings)(e));const r=t.concat(l);return[...new Map(r.map((e=>[JSON.stringify(e),e]))).values()]},al=(e,t)=>{var o;let l={};if(l.compositeConfig={composites:[],enabled:!0,animationSpeed:t},null===(o=e.savedComposites)||void 0===o?void 0:o.length){let t=0;for(const o of e.savedComposites){let e={name:`COMPOSITE-${t}`,label:`COMPOSITE-${t}`,order:t,isTemplated:!1,displayMode:s[0].value,enabled:!0,showName:!0,showValue:!0,showComposite:!0,showMembers:!1,showTimestampEnabled:!1,showTimestampFormat:h[0].value,showTimestampYOffset:0,metrics:[],clickThrough:"",clickThroughSanitize:!0,clickThroughOpenNewTab:!0,clickThroughCustomTargetEnabled:!1,clickThroughCustomTarget:""};t++;for(const t of Object.keys(o)){const l=o[t];switch(t){case"$$hashKey":case"displayName":case"sanitizedURL":break;case"animateMode":"all"!==l&&(e.displayMode=s[1].value);break;case"clickThrough":e.clickThrough=l;break;case"compositeName":e.name=l;break;case"enabled":e.showComposite=l;break;case"hideMembers":e.showMembers=!l;break;case"label":e.label=l;break;case"members":let t=0,o=[];for(const e of Object.keys(l)){let r={seriesMatch:l[e].seriesName,order:t};o.push(r),t++}e.metrics=o;break;case"newTabEnabled":e.clickThroughOpenNewTab=l;break;case"sanitizeURLEnabled":e.clickThroughSanitize=l;break;case"showName":e.showName=l;break;case"showValue":e.showValue=l}}l.compositeConfig.composites.push(e)}}return l},nl=()=>{const e=(0,el.coerce)(mo.config.buildInfo.version);return!(null===e||!(0,el.satisfies)(e,"<9.4.0"))},il=new o.PanelPlugin((({options:e,data:t,id:l,width:r,height:a,replaceVariables:n,fieldConfig:i,timeZone:s})=>{const c=(0,v.useStyles2)(Ho),u=(0,v.useTheme)(),d=(0,v.useTheme2)();let[p,m]=(0,b.useState)();return(0,b.useEffect)((()=>{if(t.state===o.LoadingState.Done){const o=_o(e.compositeConfig.enabled,e.compositeConfig.composites,e.overrideConfig.overrides,t,n,i,e.globalClickthrough,e.globalClickthroughNewTabEnabled,e.globalClickthroughSanitizedEnabled,e.globalClickthroughCustomTargetEnabled,e.globalClickthroughCustomTarget,e.globalOperator,e.globalDecimals,e.globalDisplayMode,e.globalRegexPattern,e.globalFillColor,e.globalThresholdsConfig,e.globalUnitFormat,!0,e.globalShowValueEnabled,e.globalShowTimestampEnabled,e.globalShowTimestampFormat,e.sortByDirection,e.sortByField,e.compositeGlobalAliasingEnabled,s,0,d);m(o)}}),[t,i,e,n,u,d,s]),void 0===p?y().createElement(y().Fragment,null,"Loading... please wait"):y().createElement("div",{className:(0,N.cx)(c.wrapper,N.css`
          width: ${r}px;
          height: ${a}px;
        `)},y().createElement("div",{className:(0,N.cx)(c.container)},y().createElement(Zt,{compositeConfig:e.compositeConfig,overrideConfig:e.overrideConfig,autoSizePolygons:e.autoSizePolygons,globalAutoScaleFonts:e.globalAutoScaleFonts,globalClickthrough:e.globalClickthrough,globalClickthroughNewTabEnabled:e.globalClickthroughNewTabEnabled,globalClickthroughSanitizedEnabled:e.globalClickthroughSanitizedEnabled,globalClickthroughCustomTargetEnabled:e.globalClickthroughCustomTargetEnabled,globalClickthroughCustomTarget:e.globalClickthroughCustomTarget,globalOperator:e.globalOperator,globalDecimals:e.globalDecimals,globalDisplayMode:e.globalDisplayMode,globalDisplayTextTriggeredEmpty:e.globalDisplayTextTriggeredEmpty,globalFontSize:e.globalFontSize,globalPolygonSize:e.globalPolygonSize,ellipseCharacters:e.ellipseCharacters,ellipseEnabled:e.ellipseEnabled,globalFillColor:e.globalFillColor,globalRegexPattern:e.globalRegexPattern,globalGradientsEnabled:e.globalGradientsEnabled,globalShowTimestampEnabled:e.globalShowTimestampEnabled,globalShowTimestampFormat:e.globalShowTimestampFormat,globalShowTimestampPosition:e.globalShowTimestampPosition,globalShowTimestampFontSize:e.globalShowTimestampFontSize,globalShowTimestampYOffset:e.globalShowTimestampYOffset,globalTextFontAutoColor:e.globalTextFontAutoColorEnabled?d.colors.text.primary:"#000000",globalTextFontAutoColorEnabled:e.globalTextFontAutoColorEnabled,globalTextFontColor:e.globalTextFontColor,globalTextFontFamily:e.globalTextFontFamily,globalThresholdsConfig:e.globalThresholdsConfig,globalTooltipsEnabled:e.globalTooltipsEnabled,globalTooltipsShowTimestampEnabled:e.globalTooltipsShowTimestampEnabled,globalTooltipsShowValueEnabled:e.globalTooltipsShowValueEnabled,globalTooltipsFontFamily:e.globalTooltipsFontFamily,globalUnitFormat:e.globalUnitFormat,autoSizeColumns:e.autoSizeColumns,autoSizeRows:e.autoSizeRows,layoutDisplayLimit:e.layoutDisplayLimit,layoutNumColumns:e.layoutNumColumns,layoutNumRows:e.layoutNumRows,processedData:p,panelId:l,panelWidth:r,panelHeight:a,radius:e.radius,renderTime:new Date,globalShape:e.globalShape,sortByDirection:e.sortByDirection,sortByField:e.sortByField,globalPolygonBorderColor:e.globalPolygonBorderColor,globalPolygonBorderSize:e.globalPolygonBorderSize,globalShowValueEnabled:e.globalShowValueEnabled,globalShowTooltipColumnHeadersEnabled:e.globalShowTooltipColumnHeadersEnabled,tooltipPrimarySortDirection:e.tooltipPrimarySortDirection,tooltipPrimarySortByField:e.tooltipPrimarySortByField,tooltipSecondarySortDirection:e.tooltipSecondarySortDirection,tooltipSecondarySortByField:e.tooltipSecondarySortByField,tooltipDisplayMode:e.tooltipDisplayMode,tooltipDisplayTextTriggeredEmpty:e.tooltipDisplayTextTriggeredEmpty,compositeGlobalAliasingEnabled:e.compositeGlobalAliasingEnabled})))})).setMigrationHandler((e=>{if(!e.polystat)return e.options?e.options:{};const t=tl(e.polystat);let o=t;delete e.polystat;const l=ol(e),r=al(e,t.compositeConfig.animationSpeed);o.compositeConfig=r.compositeConfig,o.overrideConfig=l.overrideConfig;const a=rl(e);return e.fieldConfig={defaults:{mappings:a},overrides:[]},delete e.mappingType,delete e.rangeMaps,delete e.valueMaps,delete e.savedComposites,delete e.savedOverrides,delete e.colors,Object.keys(e).forEach((t=>void 0===e[t]?delete e[t]:{})),Object.keys(o).forEach((e=>void 0===o[e]?delete o[e]:{})),o})).useFieldConfig({disableStandardOptions:[o.FieldConfigProperty.Thresholds,o.FieldConfigProperty.Color,o.FieldConfigProperty.Decimals,o.FieldConfigProperty.DisplayName,o.FieldConfigProperty.Max,o.FieldConfigProperty.Min,o.FieldConfigProperty.Links,o.FieldConfigProperty.NoValue,o.FieldConfigProperty.Unit],standardOptions:{[o.FieldConfigProperty.Mappings]:{}}}).setPanelOptions((e=>{e.addBooleanSwitch({name:"Auto Size Columns",path:"autoSizeColumns",defaultValue:!0,category:["Layout"],description:"Automatically set columns based on panel size"}).addNumberInput({path:"layoutNumColumns",name:"Columns",description:"Use specific number of columns",defaultValue:8,settings:{placeHolder:"8",min:1,integer:!0},category:["Layout"],showIf:e=>!e.autoSizeColumns}).addBooleanSwitch({name:"Auto Size Rows",path:"autoSizeRows",defaultValue:!0,category:["Layout"],description:"Automatically set rows based on panel size"}).addNumberInput({path:"layoutNumRows",name:"Rows",description:"Use specific number of rows",defaultValue:8,settings:{placeHolder:"8",min:1,integer:!0},category:["Layout"],showIf:e=>!e.autoSizeRows}).addNumberInput({path:"layoutDisplayLimit",name:"Display Limit",description:"Maximum number of polygons to display (0 for unlimited)",defaultValue:100,settings:{min:0,integer:!0},category:["Layout"]}).addBooleanSwitch({name:"Auto Size Polygons",path:"autoSizePolygons",defaultValue:!0,category:["Sizing"],description:"Automatically sets size of polygon for best fit"}).addNumberInput({name:"Polygon Size in pixels",path:"globalPolygonSize",description:"Use specific size for polygons",defaultValue:25,settings:{placeHolder:"Auto",min:1},category:["Sizing"],showIf:e=>!e.autoSizePolygons}).addNumberInput({name:"Border Size",path:"globalPolygonBorderSize",description:"Border size for each polygon",defaultValue:2,settings:{min:0},category:["Sizing"]}).addSelect({path:"globalTextFontFamily",name:"Font Family",description:"Font used for rendered text",category:["Text"],defaultValue:j,settings:{options:p},showIf:()=>!nl()}).addSelect({path:"globalTextFontFamily",name:"Font Family",description:"Font used for rendered text",category:["Text"],defaultValue:B,settings:{options:m},showIf:()=>nl()}).addBooleanSwitch({name:"Auto Scale Fonts",path:"globalAutoScaleFonts",defaultValue:!0,category:["Text"],description:"Automatically sets label and value font size based on size of polygon"}).addNumberInput({name:"Font Size",path:"globalFontSize",defaultValue:12,settings:{min:0},category:["Text"],description:"Default font size to use when Auto is disabled",showIf:e=>!e.globalAutoScaleFonts}).addBooleanSwitch({name:"Automate Font Color",path:"globalTextFontAutoColorEnabled",defaultValue:!0,category:["Text"],description:"Sets font color to match theme"}).addColorPicker({name:"Font Color",path:"globalTextFontColor",category:["Text"],defaultValue:"#000000",description:"Font color to use for all text on polygon",showIf:e=>!e.globalTextFontAutoColorEnabled}).addBooleanSwitch({name:"Use Ellipses",path:"ellipseEnabled",defaultValue:!1,category:["Text"],description:"Use Ellipses when character count is exceeded",showIf:e=>!e.globalAutoScaleFonts}).addNumberInput({name:"Ellipse Characters",path:"ellipseCharacters",defaultValue:18,settings:{min:0,integer:!0},category:["Text"],description:"Default number of characters to display before showing ellipses",showIf:e=>e.ellipseEnabled&&!e.globalAutoScaleFonts}).addSelect({path:"sortByDirection",name:"Sort By Direction",description:"Direction of sorting by the specified field",category:["Sorting"],defaultValue:1,settings:{options:n}}).addSelect({path:"sortByField",name:"Sort By Field",description:"Which field should be used for sorting",defaultValue:"name",category:["Sorting"],settings:{options:i}}).addBooleanSwitch({name:"Enable Tooltips",path:"globalTooltipsEnabled",defaultValue:!0,category:["Tooltips"],description:"Provides tooltips for each polygon"}).addSelect({path:"globalTooltipsFontFamily",name:"Font Family",description:"Font used for tooltip text",category:["Tooltips"],defaultValue:U,settings:{options:p},showIf:()=>!nl()}).addSelect({path:"globalTooltipsFontFamily",name:"Font Family",description:"Font used for tooltip text",category:["Tooltips"],defaultValue:H,settings:{options:m},showIf:()=>nl()}).addBooleanSwitch({name:"Show Timestamp",path:"globalTooltipsShowTimestampEnabled",defaultValue:!0,category:["Tooltips"],description:"Show timestamp at bottom of tooltip"}).addBooleanSwitch({name:"Show Value",path:"globalTooltipsShowValueEnabled",defaultValue:!0,category:["Tooltips"],description:"Show values in tooltip"}).addBooleanSwitch({name:"Show Column Headers",path:"globalShowTooltipColumnHeadersEnabled",defaultValue:!0,category:["Tooltips"],description:"Show Column headers on tooltip"}).addSelect({path:"tooltipDisplayMode",name:"Display Mode",description:"Show either all metrics/composites or only triggered",defaultValue:"all",category:["Tooltips"],settings:{options:s}}).addTextInput({path:"tooltipDisplayTextTriggeredEmpty",name:"Non Triggered State Text",description:"Text to be displayed by tooltip when there are no triggered thresholds and tooltip display mode is set to triggered",defaultValue:"OK",category:["Tooltips"]}).addSelect({path:"tooltipPrimarySortDirection",name:"Primary Sort Direction",description:"Direction of sorting by the specified field",category:["Tooltips"],defaultValue:n[1].value,settings:{options:n}}).addSelect({path:"tooltipPrimarySortByField",name:"Primary Sort By Field",description:"Which field should be used for sorting",defaultValue:"thresholdLevel",category:["Tooltips"],settings:{options:i}}).addSelect({path:"tooltipSecondarySortDirection",name:"Secondary Sort Direction",description:"Direction of sorting by the specified field",category:["Tooltips"],defaultValue:n[1].value,settings:{options:n}}).addSelect({path:"tooltipSecondarySortByField",name:"Secondary Sort By Field",description:"Which field should be used for sorting",defaultValue:"value",category:["Tooltips"],settings:{options:i}}).addSelect({path:"globalDisplayMode",name:"Display Mode",description:"Show either all metrics/composites or only triggered",defaultValue:"all",category:["Global"],settings:{options:s}}).addTextInput({path:"globalDisplayTextTriggeredEmpty",name:"Non Triggered State Text",description:"Text to be displayed in polygon when there are no triggered thresholds and global display mode is set to triggered",defaultValue:"OK",category:["Global"]}).addBooleanSwitch({name:"Show Value",path:"globalShowValueEnabled",defaultValue:!0,category:["Global"],description:"Show value on the polygon"}).addBooleanSwitch({name:"Show Timestamp",path:"globalShowTimestampEnabled",defaultValue:!1,category:["Global"],description:"Show timestamp of metric on the polygon"}).addSelect({name:"Timestamp Format",path:"globalShowTimestampFormat",description:"Format of timestamp to display",category:["Global"],defaultValue:h[2].value,settings:{options:h,allowCustomValue:!0},showIf:e=>e.globalShowTimestampEnabled}).addNumberInput({name:"Font Size",path:"globalShowTimestampFontSize",defaultValue:12,settings:{min:0},category:["Global"],description:"Default font size to use when Global Auto Scale Fonts is disabled",showIf:e=>!e.globalAutoScaleFonts}).addSelect({name:"Timestamp Position",path:"globalShowTimestampPosition",description:"Position of Timestamp",category:["Global"],defaultValue:f[1].value,settings:{options:f,allowCustomValue:!1},showIf:e=>e.globalShowTimestampEnabled}).addNumberInput({name:"Timestamp Y-Offset",path:"globalShowTimestampYOffset",description:"Adjust the displayed timestamp up or down the Y-Axis, use negative value to move up, positive for down",defaultValue:0,settings:{integer:!0},category:["Global"],showIf:e=>e.globalShowTimestampEnabled}).addSelect({name:"Shape",path:"globalShape",description:"Shape of polygon",category:["Global"],defaultValue:r[0].value,settings:{options:r}}).addBooleanSwitch({name:"Use Color Gradients",path:"globalGradientsEnabled",defaultValue:!0,category:["Global"],description:"Applies gradient color effect to all polygons"}).addColorPicker({name:"Global Fill Color",path:"globalFillColor",category:["Global"],defaultValue:I,description:"Color to use when no overrides or thresholds apply to polygon"}).addColorPicker({name:"Global Border Color",path:"globalPolygonBorderColor",category:["Global"],defaultValue:"rgba(0, 0, 0, 0)",description:"Color of polygon border"}).addUnitPicker({name:"Unit",path:"globalUnitFormat",defaultValue:"short",category:["Global"],description:"Use this unit format when it is not specified in overrides or detected in data"}).addSelect({name:"Stat",path:"globalOperator",description:"Statistic to display",category:["Global"],defaultValue:a[0].value,settings:{options:a}}).addNumberInput({name:"Decimals",path:"globalDecimals",description:"Display specified number of decimals",defaultValue:2,settings:{min:0,integer:!0},category:["Global"]}).addCustomEditor({name:"Global Thresholds",id:"globalThresholdsConfig",path:"globalThresholdsConfig",description:"Default thresholds to be applied to all metrics that do not have an override",editor:Zo,defaultValue:[],category:["Global"]}).addTextInput({name:"Default Clickthrough",path:"globalClickthrough",description:"URL to use when none are defined by overrides or composites",category:["Global"],defaultValue:""}).addBooleanSwitch({name:"Sanitize URL",path:"globalClickthroughSanitizedEnabled",defaultValue:!0,category:["Global"],description:"Sanitizes clickthrough url"}).addBooleanSwitch({name:"Open URL In New Tab",path:"globalClickthroughNewTabEnabled",defaultValue:!0,category:["Global"],description:"Opens clickthrough in a new tab"}).addBooleanSwitch({name:"Enable Custom URL Target",path:"globalClickthroughCustomTargetEnabled",defaultValue:!1,category:["Global"],description:"Use custom target for global clickthrough (this overrides the new tab setting above). Typical values are: _blank|_self|_parent|_top|framename",showIf:e=>!e.globalClickthroughNewTabEnabled}).addTextInput({name:"Custom URL Target",path:"globalClickthroughCustomTarget",description:"Provide a different target to be set in the target attribute of the clickthrough. Typical values are: _blank|_self|_parent|_top|framename",category:["Global"],defaultValue:"",showIf:e=>e.globalClickthroughCustomTargetEnabled}).addTextInput({name:"Global Regex",path:"globalRegexPattern",description:"The values in the specified column are filtered and displayed according to this regular expression. Ex: String: Url|broadcom.com|mirror|location-1 regex: /Url&#92;|(.*?)&#92;|/ Output: broadcom.com",category:["Global Aliasing"],defaultValue:""}).addCustomEditor({name:"Overrides",id:"overrideConfig",path:"overrideConfig",description:"Overrides for multiple metrics",editor:K,defaultValue:{overrides:[]},category:["Overrides"]}).addBooleanSwitch({name:"Composite Global Aliasing",path:"compositeGlobalAliasingEnabled",defaultValue:!1,description:"Enable / Disable composite global aliasing",category:["Composites"]}).addCustomEditor({name:"Composites",id:"compositeConfig",path:"compositeConfig",description:"Composites allow you to roll up multiple metrics into a single polygon",editor:Jo,defaultValue:{composites:[],enabled:!0,animationSpeed:"1500"},category:["Composites"]})})).setSuggestionsSupplier(new class{getSuggestionsForData(e){const{dataSummary:t}=e;if(!t.hasData)return;if(!t.hasNumberField)return;e.getListAppender({name:"Polystat",pluginId:"grafana-polystat-panel",options:{}}).append({name:"Polystat"})}})})(),d})()));
//# sourceMappingURL=module.js.map